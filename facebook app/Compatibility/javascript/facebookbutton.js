/*
-header

! JSON v3.2.3 | http://bestiejs.github.com/json3 | Copyright 2012, Kit Cambridge | http://kit.mit-license.org
*/
try{window.FB||function(s){var u=s.document,I=s.setTimeout,P=s.setInterval,O=s.clearTimeout,S=s.clearInterval,M,g;(function(f){var A={},p={},q="global require requireDynamic requireLazy module exports".split(" ");M=function(k,g){if(p.hasOwnProperty(k))return p[k];if(!A.hasOwnProperty(k)){if(g)return null;throw Error("Module "+k+" has not been defined");}for(var c=A[k],b=c.deps,d=c.factory.length,a,l=[],e=0;e<d;e++){switch(b[e]){case "module":a=c;break;case "exports":a=c.exports;break;case "global":a=
f;break;case "require":a=M;break;case "requireDynamic":a=M;break;case "requireLazy":a=null;break;default:a=M.call(null,b[e])}l.push(a)}c.factory.apply(f,l);return p[k]=c.exports};g=function(f,J,c,b){"function"==typeof c?(A[f]={factory:c,deps:q.concat(J),exports:{}},3===b&&M.call(null,f)):p[f]=c}})(this);g("ES5ArrayPrototype",[],function(f,A,g,q,k,r){var c={map:function(b,d){if("function"!=typeof b)throw new TypeError;var a,c=this.length,e=Array(c);for(a=0;a<c;++a)a in this&&(e[a]=b.call(d,this[a],
a,this));return e},forEach:function(b,d){c.map.call(this,b,d)},filter:function(b,d){if("function"!=typeof b)throw new TypeError;var a,c,e=this.length,h=[];for(a=0;a<e;++a)a in this&&(c=this[a],b.call(d,c,a,this)&&h.push(c));return h},every:function(b,d){if("function"!=typeof b)throw new TypeError;for(var a=Object(this),c=a.length,e=0;e<c;e++)if(e in a&&!b.call(d,a[e],e,a))return!1;return!0},some:function(b,d){if("function"!=typeof b)throw new TypeError;for(var a=Object(this),c=a.length,e=0;e<c;e++)if(e in
a&&b.call(d,a[e],e,a))return!0;return!1},indexOf:function(b,d){var a=this.length;d|=0;for(0>d&&(d+=a);d<a;d++)if(d in this&&this[d]===b)return d;return-1}};k.exports=c},null);g("ES5FunctionPrototype",[],function(f,A,g,q,k,r){k.exports={bind:function(c){function b(){return d.apply(c,a.concat(Array.prototype.slice.call(arguments)))}if("function"!=typeof this)throw new TypeError("Bind must be called on a function");var d=this,a=Array.prototype.slice.call(arguments,1);b.displayName="bound:"+(d.displayName||
d.name||"(?)");b.toString=function(){return"bound: "+d};return b}}},null);g("ES5StringPrototype",[],function(f,g,p,q,k,r){k.exports={trim:function(){if(null==this)throw new TypeError("String.prototype.trim called on null or undefined");return String.prototype.replace.call(this,/^\s+|\s+$/g,"")},startsWith:function(c){var b=String(this);if(null==this)throw new TypeError("String.prototype.startsWith called on null or undefined");var d=1<arguments.length?Number(arguments[1]):0;isNaN(d)&&(d=0);var a=
Math.min(Math.max(d,0),b.length);return b.indexOf(String(c),d)==a},endsWith:function(c){var b=String(this);if(null==this)throw new TypeError("String.prototype.endsWith called on null or undefined");var d=b.length,a=String(c),l=1<arguments.length?Number(arguments[1]):d;isNaN(l)&&(l=0);d=Math.min(Math.max(l,0),d)-a.length;return 0>d?!1:b.lastIndexOf(a,d)==d},contains:function(c){if(null==this)throw new TypeError("String.prototype.contains called on null or undefined");var b=String(this),d=1<arguments.length?
Number(arguments[1]):0;isNaN(d)&&(d=0);return-1!=b.indexOf(String(c),d)},repeat:function(c){if(null==this)throw new TypeError("String.prototype.repeat called on null or undefined");var b=String(this);c=c?Number(c):0;isNaN(c)&&(c=0);if(0>c||Infinity===c)throw RangeError();if(1===c)return b;if(0===c)return"";for(var d="";c;)if(c&1&&(d+=b),c>>=1)b+=b;return d}}},null);g("ES5Array",[],function(f,g,p,q,k,r){k.exports={isArray:function(c){return"[object Array]"==Object.prototype.toString.call(c)}}},null);
g("ie8DontEnum",[],function(f,g,p,q,k,r){var c="toString toLocaleString valueOf hasOwnProperty isPrototypeOf prototypeIsEnumerable constructor".split(" "),b={}.hasOwnProperty;f=function(){};({toString:!0}).propertyIsEnumerable("toString")&&(f=function(d,a){for(var l=0;l<c.length;l++){var e=c[l];b.call(d,e)&&a(e)}});k.exports=f},null);g("ES5Object",["ie8DontEnum"],function(f,g,p,q,k,r,c){function b(){}var d={}.hasOwnProperty;k.exports={create:function(a){var d=typeof a;if("object"!=d&&"function"!=
d)throw new TypeError("Object prototype may only be a Object or null");b.prototype=a;return new b},keys:function(a){var b=typeof a;if("object"!=b&&"function"!=b||null===a)throw new TypeError("Object.keys called on non-object");var e=[],h;for(h in a)d.call(a,h)&&e.push(h);c(a,function(a){return e.push(a)});return e}}},null);g("ES5Date",[],function(f,g,p,q,k,r){k.exports={now:function(){return(new Date).getTime()}}},null);g("JSON3",[],function(f,g,p,q,k,r){(function(){var c={}.toString,b,d,a=k.exports=
{},l='{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',e,h,m,t,v,w,f,D,J,E,n,x,C,y,G,g=new Date(-0xc782b5b800cec),A,p,H;try{g=-109252==g.getUTCFullYear()&&0===g.getUTCMonth()&&1==g.getUTCDate()&&10==g.getUTCHours()&&37==g.getUTCMinutes()&&6==g.getUTCSeconds()&&708==g.getUTCMilliseconds()}catch(q){}g||(A=Math.floor,p=[0,31,59,90,120,151,181,212,243,273,304,334],H=function(a,b){return p[b]+365*(a-1970)+A((a-1969+(b=+(1<b)))/4)-A((a-1901+b)/100)+A((a-1601+b)/400)});"object"==typeof JSON&&JSON&&(a.stringify=
JSON.stringify,a.parse=JSON.parse);if(e="function"==typeof a.stringify&&!H){(g=function(){return 1}).toJSON=g;try{e="0"===a.stringify(0)&&"0"===a.stringify(new Number)&&'""'==a.stringify(new String)&&void 0===a.stringify(c)&&void 0===a.stringify(void 0)&&void 0===a.stringify()&&"1"===a.stringify(g)&&"[1]"==a.stringify([g])&&"[null]"==a.stringify([void 0])&&"null"==a.stringify(null)&&"[null,null,null]"==a.stringify([void 0,c,null])&&a.stringify({result:[g,!0,!1,null,"\x00\b\n\f\r\t"]})==l&&"1"===a.stringify(null,
g)&&"[\n 1,\n 2\n]"==a.stringify([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==a.stringify(new Date(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==a.stringify(new Date(864E13))&&'"-000001-01-01T00:00:00.000Z"'==a.stringify(new Date(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==a.stringify(new Date(-1))}catch(L){e=!1}}if("function"==typeof a.parse)try{if(0===a.parse("0")&&!a.parse(!1)&&(g=a.parse(l),w=5==g.A.length&&1==g.A[0])){try{w=!a.parse('"\t"')}catch(r){}if(w)try{w=1!=a.parse("01")}catch(V){}}}catch(u){w=
!1}g=l=null;e&&w||((b={}.hasOwnProperty)||(b=function(a){var e={},d;(e.__proto__=null,e.__proto__={toString:1},e).toString!=c?b=function(a){var b=this.__proto__;a=a in(this.__proto__=null,this);this.__proto__=b;return a}:(d=e.constructor,b=function(a){var b=(this.constructor||d).prototype;return a in this&&!(a in b&&this[a]===b[a])});e=null;return b.call(this,a)}),d=function(a,e){var d=0,h,m,l;(h=function(){this.valueOf=0}).prototype.valueOf=0;m=new h;for(l in m)b.call(m,l)&&d++;h=m=null;d?d=2==d?
function(a,e){var d={},h="[object Function]"==c.call(a),m;for(m in a)h&&"prototype"==m||b.call(d,m)||!(d[m]=1)||!b.call(a,m)||e(m)}:function(a,e){var d="[object Function]"==c.call(a),h,m;for(h in a)d&&"prototype"==h||!b.call(a,h)||(m="constructor"===h)||e(h);(m||b.call(a,h="constructor"))&&e(h)}:(m="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),d=function(a,e){var d="[object Function]"==c.call(a),h;for(h in a)d&&"prototype"==h||!b.call(a,
h)||e(h);for(d=m.length;h=m[--d];b.call(a,h)&&e(h));});return d(a,e)},e||(h={"\\":"\\\\",'"':'\\"',"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},m=function(a,e){return("000000"+(e||0)).slice(-a)},t=function(a){for(var e='"',b=0,d;d=a.charAt(b);b++)e+=-1<'\\"\b\f\n\r\t'.indexOf(d)?h[d]:" ">d?"\\u00"+m(2,d.charCodeAt(0).toString(16)):d;return e+'"'},v=function(a,e,h,l,w,f,k){var n=e[a],x,C,D,E,J,B,g,L,G;if("object"==typeof n&&n)if(x=c.call(n),"[object Date]"!=x||b.call(n,"toJSON"))"function"==
typeof n.toJSON&&("[object Number]"!=x&&"[object String]"!=x&&"[object Array]"!=x||b.call(n,"toJSON"))&&(n=n.toJSON(a));else if(n>-1/0&&n<1/0){if(H){D=A(n/864E5);for(x=A(D/365.2425)+1970-1;H(x+1,0)<=D;x++);for(C=A((D-H(x,0))/30.42);H(x,C+1)<=D;C++);D=1+D-H(x,C);E=(n%864E5+864E5)%864E5;J=A(E/36E5)%24;B=A(E/6E4)%60;g=A(E/1E3)%60;E%=1E3}else x=n.getUTCFullYear(),C=n.getUTCMonth(),D=n.getUTCDate(),J=n.getUTCHours(),B=n.getUTCMinutes(),g=n.getUTCSeconds(),E=n.getUTCMilliseconds();n=(0>=x||1E4<=x?(0>x?
"-":"+")+m(6,0>x?-x:x):m(4,x))+"-"+m(2,C+1)+"-"+m(2,D)+"T"+m(2,J)+":"+m(2,B)+":"+m(2,g)+"."+m(3,E)+"Z"}else n=null;h&&(n=h.call(e,a,n));if(null===n)return"null";x=c.call(n);if("[object Boolean]"==x)return""+n;if("[object Number]"==x)return n>-1/0&&n<1/0?""+n:"null";if("[object String]"==x)return t(n);if("object"==typeof n){for(a=k.length;a--;)if(k[a]===n)throw TypeError();k.push(n);L=[];e=f;f+=w;if("[object Array]"==x){C=0;for(a=n.length;C<a;G||(G=!0),C++)x=v(C,n,h,l,w,f,k),L.push(void 0===x?"null":
x);return G?w?"[\n"+f+L.join(",\n"+f)+"\n"+e+"]":"["+L.join(",")+"]":"[]"}d(l||n,function(a){var e=v(a,n,h,l,w,f,k);void 0!==e&&L.push(t(a)+":"+(w?" ":"")+e);G||(G=!0)});return G?w?"{\n"+f+L.join(",\n"+f)+"\n"+e+"}":"{"+L.join(",")+"}":"{}"}},a.stringify=function(a,e,b){var d,h,m,l,t,H;if("function"==typeof e||"object"==typeof e&&e)if("[object Function]"==c.call(e))h=e;else if("[object Array]"==c.call(e))for(m={},l=0,t=e.length;l<t;H=e[l++],("[object String]"==c.call(H)||"[object Number]"==c.call(H))&&
(m[H]=1));if(b)if("[object Number]"==c.call(b)){if(0<(b-=b%1))for(d="",10<b&&(b=10);d.length<b;d+=" ");}else"[object String]"==c.call(b)&&(d=10>=b.length?b:b.slice(0,10));return v("",(H={},H[""]=a,H),h,m,d,"",[])}),w||(f=String.fromCharCode,D={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"\t",n:"\n",f:"\f",r:"\r"},J=function(){y=G=null;throw SyntaxError();},E=function(){for(var a=G,e=a.length,b,d,c,h,m;y<e;)if(b=a.charAt(y),-1<"\t\r\n ".indexOf(b))y++;else{if(-1<"{}[]:,".indexOf(b))return y++,b;if('"'==b){d=
"@";for(y++;y<e;)if(b=a.charAt(y)," ">b)J();else if("\\"==b)if(b=a.charAt(++y),-1<'\\"/btnfr'.indexOf(b))d+=D[b],y++;else if("u"==b){c=++y;for(h=y+4;y<h;y++)b=a.charAt(y),"0"<=b&&"9">=b||"a"<=b&&"f">=b||"A"<=b&&"F">=b||J();d+=f("0x"+a.slice(c,y))}else J();else{if('"'==b)break;d+=b;y++}if('"'==a.charAt(y))return y++,d}else{c=y;"-"==b&&(m=!0,b=a.charAt(++y));if("0"<=b&&"9">=b){for("0"==b&&(b=a.charAt(y+1),"0"<=b&&"9">=b)&&J();y<e&&(b=a.charAt(y),"0"<=b&&"9">=b);y++);if("."==a.charAt(y)){for(h=++y;h<
e&&(b=a.charAt(h),"0"<=b&&"9">=b);h++);h==y&&J();y=h}b=a.charAt(y);if("e"==b||"E"==b){b=a.charAt(++y);"+"!=b&&"-"!=b||y++;for(h=y;h<e&&(b=a.charAt(h),"0"<=b&&"9">=b);h++);h==y&&J();y=h}return+a.slice(c,y)}m&&J();if("true"==a.slice(y,y+4))return y+=4,!0;if("false"==a.slice(y,y+5))return y+=5,!1;if("null"==a.slice(y,y+4))return y+=4,null}J()}return"$"},n=function(a){var b,e;"$"==a&&J();if("string"==typeof a){if("@"==a.charAt(0))return a.slice(1);if("["==a){for(b=[];;e||(e=!0)){a=E();if("]"==a)break;
e&&(","==a?(a=E(),"]"==a&&J()):J());","==a&&J();b.push(n(a))}return b}if("{"==a){for(b={};;e||(e=!0)){a=E();if("}"==a)break;e&&(","==a?(a=E(),"}"==a&&J()):J());","!=a&&"string"==typeof a&&"@"==a.charAt(0)&&":"==E()||J();b[a.slice(1)]=n(E())}return b}J()}return a},C=function(a,b,e){e=x(a,b,e);void 0===e?delete a[b]:a[b]=e},x=function(a,b,e){var h=a[b],m;if("object"==typeof h&&h)if("[object Array]"==c.call(h))for(m=h.length;m--;)C(h,m,e);else d(h,function(a){C(h,a,e)});return e.call(a,b,h)},a.parse=
function(a,b){y=0;G=a;var e=n(E());"$"!=E()&&J();y=G=null;return b&&"[object Function]"==c.call(b)?x((g={},g[""]=e,g),"",b):e}))}).call(this)},null);g("ES6Object",["ie8DontEnum"],function(f,g,p,q,k,r,c){var b={}.hasOwnProperty;k.exports={assign:function(d){var a=Array.prototype.slice.call(arguments,1);if(null==d)throw new TypeError("Object.assign target cannot be null or undefined");d=Object(d);for(var l=0;l<a.length;l++){var e=a[l];if(null==e)throw new TypeError("Object.assign source cannot be null or undefined");
var e=Object(e),h;for(h in e)b.call(e,h)&&(d[h]=e[h]);c(e,function(a){return d[a]=e[a]})}return d}}},null);g("ES","ES5ArrayPrototype ES5FunctionPrototype ES5StringPrototype ES5Array ES5Object ES5Date JSON3 ES6Object".split(" "),function(f,g,p,q,k,r,c,b,d,a,l,e,h,m){function t(a){for(var b in a)if(a.hasOwnProperty(b)){var e=a[b],d=b.split("."),d=2==d.length?s[d[0]][d[1]]:s[b],c;for(c in e)if(e.hasOwnProperty(c)){var h=d[c];w[b+"."+c]=h&&/\{\s+\[native code\]\s\}/.test(h)?h:e[c]}}}var v={}.toString,
w={"JSON.stringify":h.stringify,"JSON.parse":h.parse};f={Object:m};t({"Array.prototype":c,"Function.prototype":b,"String.prototype":d,Object:l,Array:a,Date:e});t(f);k.exports=function(a,b,e){var d=Array.prototype.slice.call(arguments,3),c=e?v.call(a).slice(8,-1)+".prototype":a,c=w[c+"."+b]||a[b];if("function"===typeof c)return c.apply(a,d)}},null);var f=M("ES");g("JSSDKRuntimeConfig",[],{locale:"en_US",rtl:!1,revision:"1360648"});g("JSSDKConfig",[],{bustCache:!0,tagCountLogRate:.01,errorHandling:{rate:4},
usePluginPipe:!0,features:{kill_fragment:!0,xfbml_profile_pic_server:!0,error_handling:{rate:4},e2e_ping_tracking:{rate:1E-6},xd_timeout:{rate:4,value:3E4},use_bundle:!0},api:{mode:"warn",whitelist:"Canvas Canvas.Prefetcher Canvas.Prefetcher.addStaticResource Canvas.Prefetcher.setCollectionMode Canvas.getPageInfo Canvas.hideFlashElement Canvas.scrollTo Canvas.setAutoGrow Canvas.setDoneLoading Canvas.setSize Canvas.setUrlHandler Canvas.showFlashElement Canvas.startTimer Canvas.stopTimer Data Data.process Data.query Data.query:wait Data.waitOn Data.waitOn:wait Event Event.subscribe Event.unsubscribe Music.flashCallback Music.init Music.send Payment Payment.cancelFlow Payment.continueFlow Payment.init Payment.lockForProcessing Payment.unlockForProcessing Payment.parse Payment.setSize ThirdPartyProvider ThirdPartyProvider.init ThirdPartyProvider.sendData UA UA.nativeApp XFBML XFBML.RecommendationsBar XFBML.RecommendationsBar.markRead XFBML.parse addFriend api getAccessToken getAuthResponse getLoginStatus getUserID init login logout publish share ui ui:subscribe".split(" ")},
initSitevars:{enableMobileComments:1,iframePermissions:{read_stream:!1,manage_mailbox:!1,manage_friendlists:!1,read_mailbox:!1,publish_checkins:!0,status_update:!0,photo_upload:!0,video_upload:!0,sms:!1,create_event:!0,rsvp_event:!0,offline_access:!0,email:!0,xmpp_login:!1,create_note:!0,share_item:!0,export_stream:!1,publish_stream:!0,publish_likes:!0,ads_management:!1,contact_email:!0,access_private_data:!1,read_insights:!1,read_requests:!1,read_friendlists:!0,manage_pages:!1,physical_login:!1,
manage_groups:!1,read_deals:!1}}});g("UrlMapConfig",[],{www:"www.facebook.com",m:"m.facebook.com",connect:"connect.facebook.net",business:"business.facebook.com",api_https:"api.facebook.com",api_read_https:"api-read.facebook.com",graph_https:"graph.facebook.com",fbcdn_http:"static.ak.fbcdn.net",fbcdn_https:"fbstatic-a.akamaihd.net",cdn_http:"static.ak.facebook.com",cdn_https:"s-static.ak.facebook.com"});g("JSSDKXDConfig",[],{XdUrl:"/connect/xd_arbiter.php?version=41",XdBundleUrl:"/connect/xd_arbiter/oDB-fAAStWy.js?version=41",
Flash:{path:"https://connect.facebook.net/rsrc.php/v1/yR/r/ks_9ZXiQ0GL.swf"},useCdn:!0});g("JSSDKCssConfig",[],{rules:'.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}.fb_link img{border:none}\n.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_reset .fb_dialog_legacy{overflow:visible}.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}.fb_dialog_content{background:#fff;color:#333}.fb_dialog_close_icon{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_close_icon:active{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_loader{background-color:#f2f2f2;border:1px solid #606060;font-size:24px;padding:20px}.fb_dialog_top_left,.fb_dialog_top_right,.fb_dialog_bottom_left,.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}.fb_dialog_top_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}.fb_dialog_top_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}.fb_dialog_bottom_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}.fb_dialog_bottom_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}.fb_dialog_vert_left,.fb_dialog_vert_right,.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}.fb_dialog_vert_left,.fb_dialog_vert_right{width:10px;height:100%}.fb_dialog_vert_left{margin-left:-10px}.fb_dialog_vert_right{right:0;margin-right:-10px}.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{width:100%;height:10px}.fb_dialog_horiz_top{margin-top:-10px}.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3b5998;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{max-height:590px;min-height:590px;max-width:500px;min-width:500px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100%;min-height:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6), color-stop(.5, #355492), to(#2A4887));border:1px solid #29447e;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset, rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f2f2f2;border:1px solid #555;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}\n.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_lift{z-index:1}.fb_hide_iframes iframe{position:relative;left:-10000px}.fb_iframe_widget_loader{position:relative;display:inline-block}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}.fb_iframe_widget_loader .FB_Loader{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}\n.fb_connect_bar_container div,.fb_connect_bar_container span,.fb_connect_bar_container a,.fb_connect_bar_container img,.fb_connect_bar_container strong{background:none;border-spacing:0;border:0;direction:ltr;font-style:normal;font-variant:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal;vertical-align:baseline}.fb_connect_bar_container{position:fixed;left:0 !important;right:0 !important;height:42px !important;padding:0 25px !important;margin:0 !important;vertical-align:middle !important;border-bottom:1px solid #333 !important;background:#3b5998 !important;z-index:99999999 !important;overflow:hidden !important}.fb_connect_bar_container_ie6{position:absolute;top:expression(document.compatMode=="CSS1Compat"? document.documentElement.scrollTop+"px":body.scrollTop+"px")}.fb_connect_bar{position:relative;margin:auto;height:100%;width:100%;padding:6px 0 0 0 !important;background:none;color:#fff !important;font-family:"lucida grande", tahoma, verdana, arial, sans-serif !important;font-size:13px !important;font-style:normal !important;font-variant:normal !important;font-weight:normal !important;letter-spacing:normal !important;line-height:1 !important;text-decoration:none !important;text-indent:0 !important;text-shadow:none !important;text-transform:none !important;white-space:normal !important;word-spacing:normal !important}.fb_connect_bar a:hover{color:#fff}.fb_connect_bar .fb_profile img{height:30px;width:30px;vertical-align:middle;margin:0 6px 5px 0}.fb_connect_bar div a,.fb_connect_bar span,.fb_connect_bar span a{color:#bac6da;font-size:11px;text-decoration:none}.fb_connect_bar .fb_buttons{float:right;margin-top:7px}\n.fbpluginrecommendationsbarleft,.fbpluginrecommendationsbarright{position:fixed !important;bottom:0;z-index:999}.fbpluginrecommendationsbarleft{left:10px}.fbpluginrecommendationsbarright{right:10px}',
components:["css:fb.css.base","css:fb.css.dialog","css:fb.css.iframewidget","css:fb.css.connectbarwidget","css:fb.css.plugin.recommendationsbar"]});g("ApiClientConfig",[],{FlashRequest:{swfUrl:"https://connect.facebook.net/rsrc.php/v1/yW/r/PvklbuW2Ycn.swf"}});g("JSSDKCanvasPrefetcherConfig",[],{blacklist:[0x83d70a64a992],sampleRate:500});g("JSSDKPluginPipeConfig",[],{threshold:0,enabledApps:{0xbec51e4718e7:1,0xaa568c1d5c06:1}});g("JSSDKConnectBarConfig",[],{imgs:{buttonUrl:"rsrc.php/v2/yY/r/h_Y6u1wrZPW.png",
missingProfileUrl:"rsrc.php/v2/yo/r/UlIqmHJn-SK.gif"}});g("QueryString",[],function(J,g,p,q,k,r){var c={encode:function(b){var d=[];f(f("Object","keys",!1,b).sort(),"forEach",!0,function(a){var c=b[a];"undefined"!==typeof c&&(null===c?d.push(a):d.push(encodeURIComponent(a)+"="+encodeURIComponent(c)))});return d.join("&")},decode:function(b,d){var a={};if(""===b)return a;for(var c=b.split("&"),e=0;e<c.length;e++){var h=c[e].split("=",2),m=decodeURIComponent(h[0]);if(d&&a.hasOwnProperty(m))throw new URIError("Duplicate key: "+
m);a[m]=2===h.length?decodeURIComponent(h[1]):null}return a},appendToUrl:function(b,d){return b+(~f(b,"indexOf",!0,"?")?"&":"?")+("string"===typeof d?d:c.encode(d))}};k.exports=c},null);g("ManagedError",[],function(f,g,p,q,k,r){function c(b,d){Error.prototype.constructor.call(this,b);this.message=b;this.innerError=d}c.prototype=Error();c.prototype.constructor=c;k.exports=c},null);g("AssertionError",["ManagedError"],function(f,g,p,q,k,r,c){function b(b){c.prototype.constructor.apply(this,arguments)}
b.prototype=new c;b.prototype.constructor=b;k.exports=b},null);g("sprintf",[],function(f,g,p,q,k,r){k.exports=function(c){var b=Array.prototype.slice.call(arguments,1),d=0;return c.replace(/%s/g,function(a){return b[d++]})}},null);g("Assert",["AssertionError","sprintf"],function(J,g,p,q,k,r,c,b){function d(a,b){if("boolean"!==typeof a||!a)throw new c(b);return a}function a(a,e,c){var l;void 0===e?l="undefined":null===e?l="null":(l=Object.prototype.toString.call(e),l=/\s(\w*)/.exec(l)[1].toLowerCase());
d(-1!==f(a,"indexOf",!0,l),c||b("Expression is of type %s, not %s",l,a));return e}function l(a,b){e["is"+a]=b;e["maybe"+a]=function(a,e){null!=a&&b(a,e)}}var e={isInstanceOf:function(a,b,e){d(b instanceof a,e||"Expression not instance of type");return b},isTrue:d,isTruthy:function(a,b){return d(!!a,b)},type:a,define:function(a,b){a=a.substring(0,1).toUpperCase()+a.substring(1).toLowerCase();l(a,function(a,e){d(b(a),e)})}};f("Array Boolean Date Function Null Number Object Regexp String Undefined".split(" "),
"forEach",!0,function(b){l(b,f(a,"bind",!0,null,b.toLowerCase()))});k.exports=e},null);g("Type",["Assert"],function(g,A,p,q,k,r,c){function b(){var a=this.__mixins;if(a)for(var b=0;b<a.length;b++)a[b].apply(this,arguments)}function d(a,d){if(d instanceof a)return!0;if(d instanceof b)for(var c=0;c<d.__mixins.length;c++)if(d.__mixins[c]==a)return!0;return!1}function a(a,b){var d=a.prototype;f("Array","isArray",!1,b)||(b=[b]);for(var c=0;c<b.length;c++){var l=b[c];"function"==typeof l&&(d.__mixins.push(l),
l=l.prototype);f(f("Object","keys",!1,l),"forEach",!0,function(a){d[a]=l[a]})}}function l(e,d,m){var t=d&&d.hasOwnProperty("constructor")?d.constructor:function(){this.parent.apply(this,arguments)};c.isFunction(t);if(e&&!1===e.prototype instanceof b)throw Error("parent type does not inherit from Type");e=e||b;var v=new Function;v.prototype=e.prototype;t.prototype=new v;d&&f("Object","assign",!1,t.prototype,d);t.prototype.constructor=t;t.parent=e;t.prototype.__mixins=e.prototype.__mixins?Array.prototype.slice.call(e.prototype.__mixins):
[];m&&a(t,m);t.prototype.parent=function(){this.parent=e.prototype.parent;e.apply(this,arguments)};t.prototype.parentCall=function(a){return e.prototype[a].apply(this,Array.prototype.slice.call(arguments,1))};t.extend=function(a,b){return l(this,a,b)};return t}f("Object","assign",!1,b.prototype,{instanceOf:function(a){return d(a,this)}});f("Object","assign",!1,b,{extend:function(a,b){return"function"===typeof a?l.apply(null,arguments):l(null,a,b)},instanceOf:d});k.exports=b},null);g("ObservableMixin",
[],function(g,A,p,q,k,r){function c(){this.__observableEvents={}}c.prototype={inform:function(b){for(var d=Array.prototype.slice.call(arguments,1),a=Array.prototype.slice.call(this.getSubscribers(b)),c=0;c<a.length;c++)if(null!==a[c])try{a[c].apply(this,d)}catch(e){I(function(){throw e;},0)}return this},getSubscribers:function(b){return this.__observableEvents[b]||(this.__observableEvents[b]=[])},clearSubscribers:function(b){b&&(this.__observableEvents[b]=[]);return this},clearAllSubscribers:function(){this.__observableEvents=
{};return this},subscribe:function(b,d){this.getSubscribers(b).push(d);return this},unsubscribe:function(b,d){for(var a=this.getSubscribers(b),c=0;c<a.length;c++)if(a[c]===d){a.splice(c,1);break}return this},monitor:function(b,d){if(!d()){var a=f(function(c){d.apply(d,arguments)&&this.unsubscribe(b,a)},"bind",!0,this);this.subscribe(b,a)}return this}};k.exports=c},null);g("sdk.Model",["Type","ObservableMixin"],function(g,A,p,q,k,r,c,b){g=c.extend({constructor:function(b){this.parent();var a={},c=
this;f(f("Object","keys",!1,b),"forEach",!0,function(e){a[e]=b[e];c["set"+e]=function(b){if(b===a[e])return this;a[e]=b;c.inform(e+".change",b);return c};c["get"+e]=function(){return a[e]}})}},b);k.exports=g},null);g("sdk.Runtime",["sdk.Model","JSSDKRuntimeConfig"],function(g,A,p,q,k,r,c,b){var d={UNKNOWN:0,PAGETAB:1,CANVAS:2,PLATFORM:4},a=new c({AccessToken:"",ClientID:"",CookieUserID:"",Environment:d.UNKNOWN,Initialized:!1,IsVersioned:!1,KidDirectedSite:void 0,Locale:b.locale,LoginStatus:void 0,
Revision:b.revision,Rtl:b.rtl,Scope:void 0,Secure:void 0,UseCookie:!1,UserID:"",Version:void 0});f("Object","assign",!1,a,{ENVIRONMENTS:d,isEnvironment:function(a){var b=this.getEnvironment();return(a|b)===b}});(function(){var b=/app_runner/.test(s.name)?d.PAGETAB:/iframe_canvas/.test(s.name)?d.CANVAS:d.UNKNOWN;(b|d.PAGETAB)===b&&(b|=d.CANVAS);a.setEnvironment(b)})();k.exports=a},null);g("sdk.Cookie",["QueryString","sdk.Runtime"],function(f,g,p,q,k,r,c,b){function d(a,d,c){a+=b.getClientID();var t=
l&&"."!==l;t&&(u.cookie=a+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT;",u.cookie=a+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT;domain="+location.hostname+";");var v=(new Date(c)).toGMTString();u.cookie=a+"="+d+(d&&0===c?"":"; expires="+v)+"; path=/"+(t?"; domain="+l:"")}function a(a){a+=b.getClientID();return(new RegExp("\\b"+a+"=([^;]*)\\b")).test(u.cookie)?RegExp.$1:null}var l=null;k.exports={setDomain:function(a){l=a;a=c.encode({base_domain:l&&"."!==l?l:""});var b=new Date;b.setFullYear(b.getFullYear()+
1);d("fbm_",a,b.getTime())},getDomain:function(){return l},loadMeta:function(){var b=a("fbm_");if(b)return b=c.decode(b),l||(l=b.base_domain),b},loadSignedRequest:function(){return a("fbsr_")},setSignedRequestCookie:function(a,b){if(!a)throw Error("Value passed to Cookie.setSignedRequestCookie was empty.");d("fbsr_",a,b)},clearSignedRequestCookie:function(){d("fbsr_","",0)},setRaw:d}},null);g("guid",[],function(f,g,p,q,k,r){k.exports=function(){return"f"+(1073741824*Math.random()).toString(16).replace(".",
"")}},null);g("UserAgent",[],function(f,g,p,q,k,r){function c(){if(!b){b=!0;var c=navigator.userAgent,f=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(c),k=/(Mac OS X)|(Windows)|(Linux)/.exec(c);F=/\b(iPhone|iP[ao]d)/.exec(c);E=/\b(iP[ao]d)/.exec(c);B=/Android/i.exec(c);n=/FBAN\/\w+;/i.exec(c);x=/Mobile/i.exec(c);D=!!/Win64/.exec(c);if(f){(d=f[1]?parseFloat(f[1]):
f[5]?parseFloat(f[5]):NaN)&&u&&u.documentMode&&(d=u.documentMode);var C=/(?:Trident\/(\d+.\d+))/.exec(c);m=C?parseFloat(C[1])+4:d;a=f[2]?parseFloat(f[2]):NaN;l=f[3]?parseFloat(f[3]):NaN;h=(e=f[4]?parseFloat(f[4]):NaN)?(f=/(?:Chrome\/(\d+\.\d+))/.exec(c))&&f[1]?parseFloat(f[1]):NaN:NaN}else d=a=l=h=e=NaN;k?(t=k[1]?(c=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(c))?parseFloat(c[1].replace("_",".")):!0:!1,v=!!k[2],w=!!k[3]):t=v=w=!1}}var b=!1,d,a,l,e,h,m,t,v,w,B,D,F,E,n,x,C={ie:function(){return c()||d},ieCompatibilityMode:function(){return c()||
m>d},ie64:function(){return C.ie()&&D},firefox:function(){return c()||a},opera:function(){return c()||l},webkit:function(){return c()||e},safari:function(){return C.webkit()},chrome:function(){return c()||h},windows:function(){return c()||v},osx:function(){return c()||t},linux:function(){return c()||w},iphone:function(){return c()||F},mobile:function(){return c()||F||E||B||x},nativeApp:function(){return c()||n},android:function(){return c()||B},ipad:function(){return c()||E}};k.exports=C},null);g("hasNamePropertyBug",
["guid","UserAgent"],function(f,g,p,q,k,r,c,b){var d=b.ie()?void 0:!1;k.exports=function(){if("undefined"===typeof d){var a=u.createElement("form"),b=a.appendChild(u.createElement("input"));b.name=c();d=b!==a.elements[b.name]}return d}},null);g("wrapFunction",[],function(f,g,p,q,k,r){function c(d,a,c){a=a||"default";return function(){return(a in b?b[a](d,c):d).apply(this,arguments)}}var b={};c.setWrapper=function(d,a){b[a||"default"]=d};k.exports=c},null);g("DOMEventListener",["wrapFunction"],function(f,
g,p,q,k,r,c){var b,d;s.addEventListener?(b=function(a,b,e){e.wrapper=c(e,"entry","DOMEventListener.add "+b);a.addEventListener(b,e.wrapper,!1)},d=function(a,b,e){a.removeEventListener(b,e.wrapper,!1)}):s.attachEvent?(b=function(a,b,e){e.wrapper=c(e,"entry","DOMEventListener.add "+b);a.attachEvent("on"+b,e.wrapper)},d=function(a,b,e){a.detachEvent("on"+b,e.wrapper)}):d=b=function(){};k.exports={add:function(a,c,e){b(a,c,e);return{remove:function(){d(a,c,e);a=null}}},remove:d}},null);g("sdk.createIframe",
["guid","hasNamePropertyBug","DOMEventListener"],function(g,A,p,q,k,r,c,b,d){k.exports=function(a){a=f("Object","assign",!1,{},a);var l,e=a.name||c(),h=a.root,m=a.style||{border:"none"},t=a.url,v=a.onload,w=a.onerror;b()?l=u.createElement('<iframe name="'+e+'"/>'):(l=u.createElement("iframe"),l.name=e);delete a.style;delete a.name;delete a.url;delete a.root;delete a.onload;delete a.onerror;a=f("Object","assign",!1,{frameBorder:0,allowTransparency:!0,scrolling:"no"},a);a.width&&(l.width=a.width+"px");
a.height&&(l.height=a.height+"px");delete a.height;delete a.width;for(var k in a)a.hasOwnProperty(k)&&l.setAttribute(k,a[k]);f("Object","assign",!1,l.style,m);l.src="javascript:false";h.appendChild(l);if(v)var D=d.add(l,"load",function(){D.remove();v()});if(w)var g=d.add(l,"error",function(){g.remove();w()});l.src=t;return l}},null);g("DOMWrapper",[],function(f,g,p,q,k,r){var c,b;k.exports={setRoot:function(b){c=b},getRoot:function(){return c||u.body},setWindow:function(d){b=d},getWindow:function(){return b||
s}}},null);g("sdk.feature",["JSSDKConfig"],function(f,g,p,q,k,r,c){k.exports=function(b,d){if(c.features&&b in c.features){var a=c.features[b];return"object"===typeof a&&"number"===typeof a.rate?a.rate&&100*Math.random()<=a.rate?a.value||!0:a.value?null:!1:a}return"undefined"!==typeof d?d:null}},null);g("sdk.getContextType",["UserAgent","sdk.Runtime"],function(f,g,p,q,k,r,c,b){k.exports=function(){return c.nativeApp()?3:c.mobile()?2:b.isEnvironment(b.ENVIRONMENTS.CANVAS)?5:1}},null);g("UrlMap",["UrlMapConfig"],
function(f,g,p,q,k,r,c){k.exports={resolve:function(b,d){var a="undefined"==typeof d?location.protocol.replace(":",""):d?"https":"http";if(b in c)return a+"://"+c[b];if("undefined"==typeof d&&b+"_"+a in c)return a+"://"+c[b+"_"+a];if(!0!==d&&b+"_http"in c)return"http://"+c[b+"_http"];if(!1!==d&&b+"_https"in c)return"https://"+c[b+"_https"]}}},null);g("sdk.Impressions",["guid","QueryString","sdk.Runtime","UrlMap"],function(g,A,p,q,k,r,c,b,d,a){function l(e){var h=d.getClientID();!e.api_key&&h&&(e.api_key=
h);e.kid_directed_site=d.getKidDirectedSite();(new Image).src=b.appendToUrl(a.resolve("www",!0)+"/impression.php/"+c()+"/",e)}k.exports={log:function(a,b){b.source||(b.source="jssdk");l({lid:a,payload:f("JSON","stringify",!1,b)})},impression:l}},null);g("Log",["sprintf"],function(g,A,p,q,k,r,c){function b(a,b){var e=Array.prototype.slice.call(arguments,2),e=c.apply(null,e),h=s.console;if(h&&d.level>=b)h[a in h?a:"log"](e)}g={DEBUG:3,INFO:2,WARNING:1,ERROR:0};var d={level:-1,Level:g,debug:f(b,"bind",
!0,null,"debug",g.DEBUG),info:f(b,"bind",!0,null,"info",g.INFO),warn:f(b,"bind",!0,null,"warn",g.WARNING),error:f(b,"bind",!0,null,"error",g.ERROR)};k.exports=d},null);g("Base64",[],function(g,A,p,q,k,r){function c(a){a=a.charCodeAt(0)<<16|a.charCodeAt(1)<<8|a.charCodeAt(2);return String.fromCharCode(d.charCodeAt(a>>>18),d.charCodeAt(a>>>12&63),d.charCodeAt(a>>>6&63),d.charCodeAt(a&63))}function b(b){b=a.charCodeAt(b.charCodeAt(0)-43)<<18|a.charCodeAt(b.charCodeAt(1)-43)<<12|a.charCodeAt(b.charCodeAt(2)-
43)<<6|a.charCodeAt(b.charCodeAt(3)-43);return String.fromCharCode(b>>>16,b>>>8&255,b&255)}var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=">___?456789:;<=_______\x00\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\x0B\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019______\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123",l={encode:function(a){a=unescape(encodeURI(a));var b=(a.length+2)%3;a=(a+"\x00\x00".slice(b)).replace(/[\s\S]{3}/g,
c);return a.slice(0,a.length+b-2)+"==".slice(b)},decode:function(a){a=a.replace(/[^A-Za-z0-9+\/]/g,"");var d=a.length+3&3;a=(a+"AAA".slice(d)).replace(/..../g,b);a=a.slice(0,a.length+d-3);try{return decodeURIComponent(escape(a))}catch(c){throw Error("Not valid UTF-8");}},encodeObject:function(a){return l.encode(f("JSON","stringify",!1,a))},decodeObject:function(a){return f("JSON","parse",!1,l.decode(a))},encodeNums:function(a){return String.fromCharCode.apply(String,f(a,"map",!0,function(a){return d.charCodeAt((a|
-(63<a))&-(0<a)&63)}))}};k.exports=l},null);g("sdk.SignedRequest",["Base64"],function(f,g,p,q,k,r,c){k.exports={parse:function(b){if(!b)return null;b=b.split(".",2)[1].replace(/\-/g,"+").replace(/\_/g,"/");return c.decodeObject(b)}}},null);g("URIRFC3986",[],function(g,A,p,q,k,r){var c=/^([^:/?#]+:)?(\/\/([^\\/?#@]*@)?(\[[A-Fa-f0-9:.]+\]|[^\/?#:]*)(:[0-9]*)?)?([^?#]*)(\?[^#]*)?(#.*)?/;k.exports={parse:function(b){if(""===f(b,"trim",!0))return null;b=b.match(c);var d={};d.uri=b[0]?b[0]:null;d.scheme=
b[1]?b[1].substr(0,b[1].length-1):null;d.authority=b[2]?b[2].substr(2):null;d.userinfo=b[3]?b[3].substr(0,b[3].length-1):null;d.host=b[2]?b[4]:null;d.port=b[5]?b[5].substr(1)?parseInt(b[5].substr(1),10):null:null;d.path=b[6]?b[6]:null;d.query=b[7]?b[7].substr(1):null;d.fragment=b[8]?b[8].substr(1):null;d.isGenericURI=null===d.authority&&!!d.scheme;return d}}},null);g("createObjectFrom",[],function(g,A,p,q,k,r){k.exports=function(c,b){var d={},a=f("Array","isArray",!1,b);"undefined"==typeof b&&(b=
!0);for(var l=c.length;l--;)d[c[l]]=a?b[l]:b;return d}},null);g("URISchemes",["createObjectFrom"],function(f,g,p,q,k,r,c){var b=c("fb fbcf fbconnect fb-messenger fbrpc file ftp http https mailto ms-app itms itms-apps itms-services market svn+ssh fbstaging tel sms".split(" "));k.exports={isAllowed:function(d){return d?b.hasOwnProperty(d.toLowerCase()):!0}}},null);g("copyProperties",[],function(f,g,p,q,k,r){k.exports=function(c,b,d,a,l,e,h){c=c||{};b=[b,d,a,l,e];for(d=0;b[d];){a=b[d++];for(var m in a)c[m]=
a[m];a.hasOwnProperty&&a.hasOwnProperty("toString")&&"undefined"!=typeof a.toString&&c.toString!==a.toString&&(c.toString=a.toString)}return c}},null);g("eprintf",[],function(g,A,p,q,k,r){var c=function(b){var d=f(Array.prototype.slice.call(arguments),"map",!0,function(a){return String(a)});if(b.split("%s").length-1!==d.length-1)return c("eprintf args number mismatch: %s",f("JSON","stringify",!1,d));var a=1;return b.replace(/%s/g,function(b){return String(d[a++])})};k.exports=c},null);g("ex",["eprintf"],
function(g,A,p,q,k,r,c){var b=function(){var d=Array.prototype.slice.call(arguments,0),d=f(d,"map",!0,function(a){return String(a)});return d[0].split("%s").length!==d.length?b("ex args number mismatch: %s",f("JSON","stringify",!1,d)):b._prefix+f("JSON","stringify",!1,d)+b._suffix};b._prefix="<![EX[";b._suffix="]]\x3e";k.exports=b},null);g("invariant",[],function(f,g,p,q,k,r){k.exports=function(c,b,d,a,l,e,h,m){if(!c){if(void 0===b)c=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");
else{var t=[d,a,l,e,h,m],f=0;c=Error("Invariant Violation: "+b.replace(/%s/g,function(){return t[f++]}))}c.framesToPop=1;throw c;}}},null);g("URIBase",["URIRFC3986","URISchemes","copyProperties","ex","invariant"],function(g,A,p,q,k,r,c,b,d,a,l){function e(d,e,l,k){if(!e)return!0;if(e instanceof h)return d.setProtocol(e.getProtocol()),d.setDomain(e.getDomain()),d.setPort(e.getPort()),d.setPath(e.getPath()),d.setQueryData(k.deserialize(k.serialize(e.getQueryData()))),d.setFragment(e.getFragment()),
d.setForceFragmentSeparator(e.getForceFragmentSeparator()),!0;e=f(e.toString(),"trim",!0);var g=c.parse(e)||{};if(!l&&!b.isAllowed(g.scheme))return!1;d.setProtocol(g.scheme||"");if(!l&&m.test(g.host))return!1;d.setDomain(g.host||"");d.setPort(g.port||"");d.setPath(g.path||"");if(l)d.setQueryData(k.deserialize(g.query)||{});else try{d.setQueryData(k.deserialize(g.query)||{})}catch(E){return!1}d.setFragment(g.fragment||"");""===g.fragment&&d.setForceFragmentSeparator(!0);if(null!==g.userinfo){if(l)throw Error(a("URI.parse: invalid URI (userinfo is not allowed in a URI): %s",
d.toString()));return!1}if(!d.getDomain()&&-1!==f(d.getPath(),"indexOf",!0,"\\")){if(l)throw Error(a("URI.parse: invalid URI (no domain but multiple back-slashes): %s",d.toString()));return!1}if(!d.getProtocol()&&t.test(e)){if(l)throw Error(a("URI.parse: invalid URI (unsafe protocol-relative URLs): %s",d.toString()));return!1}return!0}function h(a,b){l(b);this.$URIBase0=b;this.$URIBase5=this.$URIBase4=this.$URIBase3=this.$URIBase2=this.$URIBase1="";this.$URIBase6={};this.$URIBase7=!1;e(this,a,!0,
b)}var m=RegExp("[\\x00-\\x2c\\x2f\\x3b-\\x40\\x5c\\x5e\\x60\\x7b-\\x7f\\uFDD0-\\uFDEF\\uFFF0-\\uFFFF\\u2047\\u2048\\uFE56\\uFE5F\\uFF03\\uFF0F\\uFF1F]"),t=/^(?:[^/]*:|[\x00-\x1f]*\/[\x00-\x1f]*\/)/;h.prototype.setProtocol=function(a){l(b.isAllowed(a));this.$URIBase1=a;return this};h.prototype.getProtocol=function(a){return this.$URIBase1};h.prototype.setSecure=function(a){return this.setProtocol(a?"https":"http")};h.prototype.isSecure=function(){return"https"===this.getProtocol()};h.prototype.setDomain=
function(b){if(m.test(b))throw Error(a("URI.setDomain: unsafe domain specified: %s for url %s",b,this.toString()));this.$URIBase2=b;return this};h.prototype.getDomain=function(){return this.$URIBase2};h.prototype.setPort=function(a){this.$URIBase3=a;return this};h.prototype.getPort=function(){return this.$URIBase3};h.prototype.setPath=function(a){this.$URIBase4=a;return this};h.prototype.getPath=function(){return this.$URIBase4};h.prototype.addQueryData=function(a,b){"[object Object]"===Object.prototype.toString.call(a)?
d(this.$URIBase6,a):this.$URIBase6[a]=b;return this};h.prototype.setQueryData=function(a){this.$URIBase6=a;return this};h.prototype.getQueryData=function(){return this.$URIBase6};h.prototype.removeQueryData=function(a){f("Array","isArray",!1,a)||(a=[a]);for(var b=0,d=a.length;b<d;++b)delete this.$URIBase6[a[b]];return this};h.prototype.setFragment=function(a){this.$URIBase5=a;this.setForceFragmentSeparator(!1);return this};h.prototype.getFragment=function(){return this.$URIBase5};h.prototype.setForceFragmentSeparator=
function(a){this.$URIBase7=a;return this};h.prototype.getForceFragmentSeparator=function(){return this.$URIBase7};h.prototype.isEmpty=function(){return!(this.getPath()||this.getProtocol()||this.getDomain()||this.getPort()||0<f("Object","keys",!1,this.getQueryData()).length||this.getFragment())};h.prototype.toString=function(){var a="";this.$URIBase1&&(a+=this.$URIBase1+"://");this.$URIBase2&&(a+=this.$URIBase2);this.$URIBase3&&(a+=":"+this.$URIBase3);this.$URIBase4?a+=this.$URIBase4:a&&(a+="/");var b=
this.$URIBase0.serialize(this.$URIBase6);b&&(a+="?"+b);this.$URIBase5?a+="#"+this.$URIBase5:this.$URIBase7&&(a+="#");return a};h.prototype.getOrigin=function(){return this.$URIBase1+"://"+this.$URIBase2+(this.$URIBase3?":"+this.$URIBase3:"")};h.isValidURI=function(a,b){return e(new h(null,b),a,!1,b)};k.exports=h},null);g("sdk.URI",["Assert","QueryString","URIBase"],function(g,A,p,q,k,r,c,b,d){function a(b){c.isString(b,"The passed argument was of invalid type.");if(!(this instanceof a))return new a(b);
d.call(this,b,e)}var l=/\.facebook\.com$/,e={serialize:function(a){return a?b.encode(a):""},deserialize:function(a){return a?b.decode(a):{}}},h;for(h in d)d.hasOwnProperty(h)&&(a[h]=d[h]);a.prototype=f("Object","create",!1,null===d?null:d.prototype);a.prototype.constructor=a;a.__superConstructor__=d;a.prototype.isFacebookURI=function(){return l.test(this.getDomain())};a.prototype.valueOf=function(){return this.toString()};k.exports=a},null);g("sdk.domReady",[],function(f,g,p,q,k,r){function c(){if(b){for(var a;a=
b.shift();)a();b=null}}var b;if("readyState"in u?!/loaded|complete/.test(u.readyState):!u.body)if(b=[],u.addEventListener?(u.addEventListener("DOMContentLoaded",c,!1),s.addEventListener("load",c,!1)):u.attachEvent&&(u.attachEvent("onreadystatechange",c),s.attachEvent("onload",c)),u.documentElement.doScroll&&s==s.top){var d=function(){try{u.documentElement.doScroll("left")}catch(a){I(d,0);return}c()};d()}k.exports=function(a){b?b.push(a):a()}},3);g("sdk.Content",["sdk.domReady","Log","UserAgent"],
function(f,g,p,q,k,r,c,b,d){var a,l={append:function(e,h){h||(a?h=a:(a=h=u.getElementById("fb-root"),h||(b.warn('The "fb-root" div has not been created, auto-creating'),a=h=u.createElement("div"),h.id="fb-root",d.ie()||!u.body?c(function(){u.body.appendChild(h)}):u.body.appendChild(h)),h.className+=" fb_reset"));if("string"==typeof e){var m=u.createElement("div");h.appendChild(m).innerHTML=e;return m}return h.appendChild(e)},appendHidden:function(a){if(!b){var b=u.createElement("div"),d=b.style;d.position=
"absolute";d.top="-10000px";d.width=d.height=0;b=l.append(b)}return l.append(a,b)},submitToTarget:function(a,b){var d=u.createElement("form");d.action=a.url;d.target=a.target;d.method=b?"GET":"POST";l.appendHidden(d);for(var c in a.params)if(a.params.hasOwnProperty(c)){var f=a.params[c];if(null!==f&&void 0!==f){var k=u.createElement("input");k.name=c;k.value=f;d.appendChild(k)}}d.submit();d.parentNode.removeChild(d)}};k.exports=l},null);g("sdk.Event",[],function(g,A,p,q,k,r){k.exports={SUBSCRIBE:"event.subscribe",
UNSUBSCRIBE:"event.unsubscribe",subscribers:function(){this._subscribersMap||(this._subscribersMap={});return this._subscribersMap},subscribe:function(c,b){var d=this.subscribers();d[c]?-1==f(d[c],"indexOf",!0,b)&&d[c].push(b):d[c]=[b];c!=this.SUBSCRIBE&&c!=this.UNSUBSCRIBE&&this.fire(this.SUBSCRIBE,c,d[c])},unsubscribe:function(c,b){var d=this.subscribers()[c];d&&f(d,"forEach",!0,function(a,c){a==b&&d.splice(c,1)});c!=this.SUBSCRIBE&&c!=this.UNSUBSCRIBE&&this.fire(this.UNSUBSCRIBE,c,d)},monitor:function(c,
b){if(!b()){var d=this,a=function(){b.apply(b,arguments)&&d.unsubscribe(c,a)};this.subscribe(c,a)}},clear:function(c){delete this.subscribers()[c]},fire:function(c){var b=Array.prototype.slice.call(arguments,1),d=this.subscribers()[c];d&&f(d,"forEach",!0,function(a){a&&a.apply(this,b)})}}},null);g("Queue",["copyProperties"],function(g,A,p,q,k,r,c){function b(a){this._opts=c({interval:0,processor:null},a);this._queue=[];this._stopped=!0}var d={};b.prototype._dispatch=function(a){if(!this._stopped&&
0!==this._queue.length){if(!this._opts.processor)throw this._stopped=!0,Error("No processor available");if(this._opts.interval)this._opts.processor.call(this,this._queue.shift()),this._timeout=I(f(this._dispatch,"bind",!0,this),this._opts.interval);else for(;this._queue.length;)this._opts.processor.call(this,this._queue.shift())}};b.prototype.enqueue=function(a){this._opts.processor&&!this._stopped?this._opts.processor.call(this,a):this._queue.push(a);return this};b.prototype.start=function(a){a&&
(this._opts.processor=a);this._stopped=!1;this._dispatch();return this};b.prototype.isStarted=function(){return!this._stopped};b.prototype.dispatch=function(){this._dispatch(!0)};b.prototype.stop=function(a){this._stopped=!0;a&&O(this._timeout);return this};b.prototype.merge=function(a,b){this._queue[b?"unshift":"push"].apply(this._queue,a._queue);a._queue=[];this._dispatch();return this};b.prototype.getLength=function(){return this._queue.length};b.get=function(a,c){return a in d?d[a]:d[a]=new b(c)};
b.exists=function(a){return a in d};b.remove=function(a){return delete d[a]};k.exports=b},null);g("JSONRPC",["Log"],function(g,A,p,q,k,r,c){function b(b){this.$JSONRPC0=0;this.$JSONRPC1={};this.remote=f(function(a){this.$JSONRPC2=a;return this.remote},"bind",!0,this);this.local={};this.$JSONRPC3=b}b.prototype.stub=function(b){this.remote[b]=f(function(){var a=Array.prototype.slice.call(arguments,0),c={jsonrpc:"2.0",method:b};"function"==typeof a[a.length-1]&&(c.id=++this.$JSONRPC0,this.$JSONRPC1[c.id]=
a.pop());c.params=a;this.$JSONRPC3(f("JSON","stringify",!1,c),this.$JSONRPC2||{method:b})},"bind",!0,this)};b.prototype.read=function(b,a){var l=f("JSON","parse",!1,b),e=l.id;if(l.method){var h=this,m=this.local[l.method],t;t=e?function(b,d){var c={jsonrpc:"2.0",id:e};c[b]=d;I(function(){h.$JSONRPC3(f("JSON","stringify",!1,c),a)},0)}:function(){};if(m){l.params.push(f(t,"bind",!0,null,"result"));l.params.push(f(t,"bind",!0,null,"error"));try{var k=m.apply(a||null,l.params);"undefined"!==typeof k&&
t("result",k)}catch(g){c.error("Invokation of RPC method %s resulted in the error: %s",l.method,g.message),t("error",{code:-32603,message:"Internal error",data:g.message})}}else c.error('Method "%s" has not been defined',l.method),t("error",{code:-32601,message:"Method not found",data:l.method})}else this.$JSONRPC1[e]?(m=this.$JSONRPC1[e],delete this.$JSONRPC1[e],delete l.id,delete l.jsonrpc,m(l)):c.warn("Could not find callback %s",e)};k.exports=b},null);g("sdk.RPC",["Assert","JSONRPC","Queue"],
function(g,A,p,q,k,r,c,b,d){var a=new d,l=new b(function(b){a.enqueue(b)});g={local:l.local,remote:l.remote,stub:f(l.stub,"bind",!0,l),setInQueue:function(a){c.isInstanceOf(d,a);a.start(function(a){l.read(a)})},getOutQueue:function(){return a}};k.exports=g},null);g("sdk.Scribe",["QueryString","sdk.Runtime","UrlMap"],function(g,A,p,q,k,r,c,b,d){k.exports={log:function(a,l){"object"==typeof l.extra&&(l.extra.revision=b.getRevision());(new Image).src=c.appendToUrl(d.resolve("www",!0)+"/common/scribe_endpoint.php",
{c:a,m:f("JSON","stringify",!1,l)})}}},null);g("emptyFunction",["copyProperties"],function(f,g,p,q,k,r,c){function b(a){return function(){return a}}function d(){}c(d,{thatReturns:b,thatReturnsFalse:b(!1),thatReturnsTrue:b(!0),thatReturnsNull:b(null),thatReturnsThis:function(){return this},thatReturnsArgument:function(a){return a}});k.exports=d},null);g("htmlSpecialChars",[],function(f,g,p,q,k,r){var c=/&/g,b=/</g,d=/>/g,a=/"/g,l=/'/g;k.exports=function(e){return"undefined"!=typeof e&&null!==e&&e.toString?
!1===e?"0":!0===e?"1":e.toString().replace(c,"&amp;").replace(a,"&quot;").replace(l,"&#039;").replace(b,"&lt;").replace(d,"&gt;"):""}},null);g("Flash","DOMEventListener DOMWrapper QueryString UserAgent copyProperties guid htmlSpecialChars".split(" "),function(f,g,p,q,k,r,c,b,d,a,l,e,h){function m(a){var b=D.getElementById(a);b&&b.parentNode.removeChild(b);delete w[a]}function t(){for(var a in w)w.hasOwnProperty(a)&&m(a)}function v(a){return a.replace(/\d+/g,function(a){return"000".substring(a.length)+
a})}var w={},B,D=b.getWindow().document,F={embed:function(b,m,f,k){var g=e();b=h(b).replace(/&amp;/g,"&");f=l({allowscriptaccess:"always",flashvars:k,movie:b},f||{});"object"==typeof f.flashvars&&(f.flashvars=d.encode(f.flashvars));k=[];for(var v in f)f.hasOwnProperty(v)&&f[v]&&k.push('<param name="'+h(v)+'" value="'+h(f[v])+'">');m=m.appendChild(D.createElement("span"));b="<object "+(a.ie()?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" ':'type="application/x-shockwave-flash"')+'data="'+b+
'" '+(f.height?'height="'+f.height+'" ':"")+(f.width?'width="'+f.width+'" ':"")+'id="'+g+'">'+k.join("")+"</object>";m.innerHTML=b;b=m.firstChild;B||(9<=a.ie()&&c.add(s,"unload",t),B=!0);w[g]=g;return b},remove:m,getVersion:function(){var a;if(navigator.plugins&&"object"==typeof navigator.plugins["Shockwave Flash"]){var b=navigator.plugins["Shockwave Flash"].description;b&&navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&
(a=b.match(/\d+/g))}if(!a)try{a=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),a=Array.prototype.slice.call(a,1)}catch(d){}return a},checkMinVersion:function(a){var b=F.getVersion();return b?v(b.join("."))>=v(a):!1},isAvailable:function(){return!!F.getVersion()}};k.exports=F},null);g("dotAccess",[],function(f,g,p,q,k,r){k.exports=function(c,b,d){b=b.split(".");do{var a=b.shift();c=c[a]||d&&(c[a]={})}while(b.length&&c);return c}},null);
g("GlobalCallback",["DOMWrapper","dotAccess","guid","wrapFunction"],function(f,g,p,q,k,r,c,b,d,a){var l,e;k.exports={setPrefix:function(a){l=b(c.getWindow(),a,!0);e=a},create:function(b,c){l||this.setPrefix("__globalCallbacks");var f=d();l[f]=a(b,"entry",c||"GlobalCallback");return e+"."+f},remove:function(a){a=a.substring(e.length+1);delete l[a]}}},null);g("XDM","DOMEventListener DOMWrapper emptyFunction Flash GlobalCallback guid Log UserAgent wrapFunction".split(" "),function(f,g,p,q,k,r,c,b,d,
a,l,e,h,m,t){var v={},w=[],B=b.getWindow();f={register:function(a,b){h.debug("Registering %s as XDM provider",a);w.push(a);v[a]=b},create:function(a){if(!a.whenReady&&!a.onMessage)throw h.error("An instance without whenReady or onMessage makes no sense"),Error("An instance without whenReady or onMessage makes no sense");a.channel||(h.warn("Missing channel name, selecting at random"),a.channel=e());a.whenReady||(a.whenReady=d);a.onMessage||(a.onMessage=d);var b;if(!(b=a.transport))a:{var c=a.blacklist||
[];b={};for(var f=c.length;f--;)b[c[f]]=1;for(f=w.length;f--;){var c=w[f],m=v[c];if(!b[c]&&m.isAvailable()){b=c;break a}}b=void 0}if((f=v[b])&&f.isAvailable())return h.debug("%s is available",b),f.init(a),b}};f.register("flash",function(){var b=!1,d,c;return{isAvailable:function(){return a.checkMinVersion("8.0.24")},init:function(e){h.debug("init flash: "+e.channel);var f={send:function(a,b,c,e){h.debug("sending to: %s (%s)",b,e);d.postMessage(a,b,e)}};if(b)e.whenReady(f);else{var m=e.root.appendChild(B.document.createElement("div")),
t=l.create(function(){l.remove(t);O(c);h.info("xdm.swf called the callback");var a=l.create(function(a,b){a=decodeURIComponent(a);b=decodeURIComponent(b);h.debug("received message %s from %s",a,b);e.onMessage(a,b)},"xdm.swf:onMessage");d.init(e.channel,a);e.whenReady(f)},"xdm.swf:load");d=a.embed(e.flashUrl,m,null,{protocol:location.protocol.replace(":",""),host:location.host,callback:t,log:!1});c=I(function(){h.warn("The Flash component did not load within %s ms - verify that the container is not set to hidden or invisible using CSS as this will cause some browsers to not load the components",
15E3)},15E3);b=!0}}}}());f.register("postmessage",function(){var a=!1;return{isAvailable:function(){return!!B.postMessage},init:function(b){h.debug("init postMessage: "+b.channel);var d="_FB_"+b.channel,e={send:function(a,b,d,c){if(B===d)throw h.error("Invalid windowref, equal to window (self)"),Error();h.debug("sending to: %s (%s)",b,c);var e=function(){d.postMessage("_FB_"+c+a,b)};8==m.ie()||m.ieCompatibilityMode()?I(e,0):e()}};a?b.whenReady(e):(c.add(B,"message",t(function(a){var c=a.data;a=a.origin||
"native";/^(https?:\/\/|native$)/.test(a)?"string"!=typeof c?h.warn("Received message of type %s from %s, expected a string",typeof c,a):(h.debug("received message %s from %s",c,a),c.substring(0,d.length)==d&&(c=c.substring(d.length)),b.onMessage(c,a)):h.debug("Received message from invalid origin type: %s",a)},"entry","onMessage")),b.whenReady(e),a=!0)}}}());k.exports=f},null);g("isFacebookURI",[],function(g,A,p,q,k,r){var c=null,b=["http","https"];k.exports=function(d){c||(c=/(^|\.)facebook\.com$/i);
return d.isEmpty()?!1:d.getDomain()||d.getProtocol()?-1!==f(b,"indexOf",!0,d.getProtocol())&&c.test(d.getDomain()):!0}},null);g("sdk.XD","sdk.Content sdk.Event Log QueryString Queue sdk.RPC sdk.Runtime sdk.Scribe sdk.URI UrlMap JSSDKXDConfig XDM isFacebookURI sdk.createIframe sdk.feature guid".split(" "),function(g,A,p,q,k,r,c,b,d,a,l,e,h,m,t,v,w,B,D,F,E,n){function x(a){d.info("Remote XD can talk to facebook.com (%s)",a);h.setEnvironment("canvas"===a?h.ENVIRONMENTS.CANVAS:h.ENVIRONMENTS.PAGETAB)}
function C(b,c){if(!c)throw d.error("No senderOrigin"),Error();var e=/^https?/.exec(c)[0];switch(b.xd_action){case "proxy_ready":var h,f;"https"==e?(h=H,f=L):(h=z,f=N);b.registered&&(x(b.registered),K=h.merge(K));d.info("Proxy ready, starting queue %s containing %s messages",e+"ProxyQueue",h.getLength());h.start(function(b){X.send("string"===typeof b?b:a.encode(b),c,f.contentWindow,Q+"_"+e)});break;case "plugin_ready":d.info("Plugin %s ready, protocol: %s",b.name,e),$[b.name]={protocol:e},l.exists(b.name)&&
(h=l.get(b.name),d.debug("Enqueuing %s messages for %s in %s",h.getLength(),b.name,e+"ProxyQueue"),("https"==e?H:z).merge(h))}b.data&&y(b.data,c)}function y(b,c){if(!c||"native"===c||D(t(c))){if("string"==typeof b){if(/^FB_RPC:/.test(b)){O.enqueue(b.substring(7));return}if("{"==b.substring(0,1))try{b=f("JSON","parse",!1,b)}catch(e){d.warn("Failed to decode %s as JSON",b);return}else b=a.decode(b)}c||b.xd_sig!=R||(c=b.xd_origin);if(b.xd_action)C(b,c);else if(b.access_token&&h.setSecure(/^https/.test(U)),
b.cb){var m=M._callbacks[b.cb];M._forever[b.cb]||delete M._callbacks[b.cb];m&&m(b)}}}function G(a,b){if("facebook"==a)b.relation="parent.parent",K.enqueue(b);else{b.relation='parent.frames["'+a+'"]';var c=$[a];c?(d.debug("Enqueuing message for plugin %s in %s",a,c.protocol+"ProxyQueue"),("https"==c.protocol?H:z).enqueue(b)):(d.debug("Buffering message for plugin %s",a),l.get(a).enqueue(b))}}function s(b){if(!Y){var d=c.appendHidden(u.createElement("div")),e=B.create({blacklist:null,root:d,channel:Q,
flashUrl:w.Flash.path,whenReady:function(c){X=c;c="#"+a.encode({channel:Q,origin:location.protocol+"//"+location.host,transport:e,xd_name:b});!0!==h.getSecure()&&(N=F({url:V+c,name:"fb_xdm_frame_http",id:"fb_xdm_frame_http",root:d,"aria-hidden":!0,title:Z,tabindex:-1}));L=F({url:W+c,name:"fb_xdm_frame_https",id:"fb_xdm_frame_https",root:d,"aria-hidden":!0,title:Z,tabindex:-1})},onMessage:y});e||m.log("jssdk_error",{appId:h.getClientID(),error:"XD_TRANSPORT",extra:{message:"Failed to create a valid transport"}});
Y=!0}}var K=new l,z=new l,H=new l,N,L,R=n();g=w.useCdn?"cdn":"www";A=E("use_bundle")?w.XdBundleUrl:w.XdUrl;var V=v.resolve(g,!1)+A,W=v.resolve(g,!0)+A,Q=n(),U=location.protocol+"//"+location.host,X,Y=!1,Z="Facebook Cross Domain Communication Frame",$={},O=new l;e.setInQueue(O);e.getOutQueue().start(function(a){G("facebook","FB_RPC:"+a)});var M={rpc:e,_callbacks:{},_forever:{},_channel:Q,_origin:U,onMessage:y,recv:y,init:s,sendToFacebook:G,inform:function(a,b,c,d){G("facebook",{method:a,params:f("JSON",
"stringify",!1,b||{}),behavior:d||"p",relation:c})},handler:function(b,c,d,e){b="#"+a.encode({cb:this.registerCallback(b,d,e),origin:U+"/"+Q,domain:location.hostname,relation:c||"opener"});return("https:"==location.protocol?W:V)+b},registerCallback:function(a,b,c){c=c||n();b&&(M._forever[c]=!0);M._callbacks[c]=a;return c}};b.subscribe("init:post",function(a){s(a.xdProxyName);var b=E("xd_timeout");b&&I(function(){L&&!!N==z.isStarted()&&!!L==H.isStarted()||m.log("jssdk_error",{appId:h.getClientID(),
error:"XD_INITIALIZATION",extra:{message:"Failed to initialize in "+b+"ms"}})},b)});k.exports=M},null);g("sdk.Auth","sdk.Cookie sdk.createIframe DOMWrapper sdk.feature sdk.getContextType guid sdk.Impressions Log ObservableMixin sdk.Runtime sdk.SignedRequest UrlMap sdk.URI sdk.XD".split(" "),function(g,A,p,q,k,r,c,b,d,a,l,e,h,m,t,v,w,B,D,F){function E(a,b){var c=v.getUserID(),d="";if(a)if(a.userID)d=a.userID;else if(a.signedRequest){var e=w.parse(a.signedRequest);e&&e.user_id&&(d=e.user_id)}var h=
v.getLoginStatus(),e="unknown"===h&&a||v.getUseCookie()&&v.getCookieUserID()!==d,f=c&&!a,c=a&&c&&c!=d,m=a!=C,h=b!=(h||"unknown");v.setLoginStatus(b);v.setAccessToken(a&&a.accessToken||null);v.setUserID(d);C=a;d={authResponse:a,status:b};(f||c)&&G.inform("logout",d);(e||c)&&G.inform("login",d);m&&G.inform("authresponse.change",d);h&&G.inform("status.change",d);return d}function n(a,b,d){return function(e){var h;if(e&&e.access_token)h=w.parse(e.signed_request),b={accessToken:e.access_token,userID:h.user_id,
expiresIn:parseInt(e.expires_in,10),signedRequest:e.signed_request},e.granted_scopes&&(b.grantedScopes=e.granted_scopes),v.getUseCookie()&&(h=0===b.expiresIn?0:f("Date","now",!1)+1E3*b.expiresIn,!c.getDomain()&&e.base_domain&&c.setDomain("."+e.base_domain),c.setSignedRequestCookie(e.signed_request,h)),E(b,"connected");else if("logout"===d||"login_status"===d)h=e.error&&"not_authorized"===e.error?"not_authorized":"unknown",E(null,h),v.getUseCookie()&&c.clearSignedRequestCookie();e&&1==e.https&&v.setSecure(!0);
a&&a({authResponse:b,status:v.getLoginStatus()});return b}}function x(c){var t,H=f("Date","now",!1);y&&(O(y),y=null);var k=n(c,C,"login_status");c=D(B.resolve("www",!0)+"/connect/ping").setQueryData({client_id:v.getClientID(),response_type:"token,signed_request,code",domain:location.hostname,origin:l(),redirect_uri:F.handler(function(b){if(a("e2e_ping_tracking",!0)){var c={init:H,close:f("Date","now",!1),method:"ping"};m.debug("e2e: %s",f("JSON","stringify",!1,c));h.log(114,{payload:c})}t.parentNode.removeChild(t);
k(b)&&(y=I(function(){x(function(){})},12E5))},"parent"),sdk:"joey",kid_directed_site:v.getKidDirectedSite()});t=b({root:d.getRoot(),name:e(),url:c.toString(),style:{display:"none"}})}var C,y,G=new t,s;f("Object","assign",!1,G,{getLoginStatus:function(a,b){if(v.getClientID()){if(a)if(b||"loaded"!=s)G.subscribe("FB.loginStatus",a);else{a({status:v.getLoginStatus(),authResponse:C});return}if(b||"loading"!=s)s="loading",x(function(a){s="loaded";G.inform("FB.loginStatus",a);G.clearSubscribers("FB.loginStatus")})}else m.warn("FB.getLoginStatus() called before calling FB.init().")},
fetchLoginStatus:x,setAuthResponse:E,getAuthResponse:function(){return C},parseSignedRequest:w.parse,xdResponseWrapper:n});k.exports=G},null);g("toArray",["invariant"],function(g,A,p,q,k,r,c){k.exports=function(b){var d=b.length;c(!f("Array","isArray",!1,b)&&("object"===typeof b||"function"===typeof b));c("number"===typeof d);c(0===d||d-1 in b);if(b.hasOwnProperty)try{return Array.prototype.slice.call(b)}catch(a){}for(var l=Array(d),e=0;e<d;e++)l[e]=b[e];return l}},null);g("createArrayFrom",["toArray"],
function(g,A,p,q,k,r,c){k.exports=function(b){return!b||"object"!=typeof b&&"function"!=typeof b||!("length"in b)||"setInterval"in b||"number"==typeof b.nodeType||!(f("Array","isArray",!1,b)||"callee"in b||"item"in b)?[b]:f("Array","isArray",!1,b)?b.slice():c(b)}},null);g("sdk.DOM",["Assert","createArrayFrom","sdk.domReady","UserAgent"],function(g,A,p,q,k,r,c,b,d,a){function l(a,b){var c=a.getAttribute(b)||a.getAttribute(b.replace(/_/g,"-"))||a.getAttribute(b.replace(/-/g,"_"))||a.getAttribute(b.replace(/-/g,
""))||a.getAttribute(b.replace(/_/g,""))||a.getAttribute("data-"+b)||a.getAttribute("data-"+b.replace(/_/g,"-"))||a.getAttribute("data-"+b.replace(/-/g,"_"))||a.getAttribute("data-"+b.replace(/-/g,""))||a.getAttribute("data-"+b.replace(/_/g,""));return c?String(c):null}function e(a,b){c.isTruthy(a,"element not specified");c.isString(b);try{return String(a[b])}catch(d){throw Error("Could not read property "+b+" : "+d.message);}}function h(a,b){c.isTruthy(a,"element not specified");c.isString(b);var d=
" "+e(a,"className")+" ";return 0<=f(d,"indexOf",!0," "+b+" ")}var m={};k.exports={containsCss:h,addCss:function(a,b){c.isTruthy(a,"element not specified");c.isString(b);h(a,b)||(a.className=e(a,"className")+" "+b)},removeCss:function(a,b){c.isTruthy(a,"element not specified");c.isString(b);var d=new RegExp("\\s*"+b,"g");a.className=f(e(a,"className").replace(d,""),"trim",!0)},getByClass:function(a,d,e){c.isString(a);d=d||u.body;e=e||"*";if(d.querySelectorAll)return b(d.querySelectorAll(e+"."+a));
d=d.getElementsByTagName(e);e=[];for(var f=0,m=d.length;f<m;f++)h(d[f],a)&&(e[e.length]=d[f]);return e},getStyle:function(a,b){c.isTruthy(a,"element not specified");c.isString(b);b=b.replace(/-(\w)/g,function(a,b){return b.toUpperCase()});var d=(a.currentStyle||u.defaultView.getComputedStyle(a,null))[b];/backgroundPosition?/.test(b)&&/top|left/.test(d)&&(d="0%");return d},setStyle:function(a,b,d){c.isTruthy(a,"element not specified");c.isString(b);b=b.replace(/-(\w)/g,function(a,b){return b.toUpperCase()});
a.style[b]=d},getAttr:l,getBoolAttr:function(a,b){var d=l(a,b);return d?/^(true|1|yes|on)$/.test(d):null},getProp:e,html:function(a,b){c.isTruthy(a,"element not specified");c.isString(b);try{a.innerHTML=b}catch(d){throw Error("Could not set innerHTML : "+d.message);}},addCssRules:function(b,d){for(var c=!0,e=0,h;h=d[e++];)h in m||(c=!1,m[h]=!0);if(!c)if(a.ie())try{u.createStyleSheet().cssText=b}catch(f){u.styleSheets[0]&&(u.styleSheets[0].cssText+=b)}else c=u.createElement("style"),c.type="text/css",
c.textContent=b,u.getElementsByTagName("head")[0].appendChild(c)},getViewportInfo:function(){var a=u.documentElement&&"CSS1Compat"==u.compatMode?u.documentElement:u.body;return{scrollTop:a.scrollTop||u.body.scrollTop,scrollLeft:a.scrollLeft||u.body.scrollLeft,width:s.innerWidth?s.innerWidth:a.clientWidth,height:s.innerHeight?s.innerHeight:a.clientHeight}},getPosition:function(a){c.isTruthy(a,"element not specified");var b=0,d=0;do b+=a.offsetLeft,d+=a.offsetTop;while(a=a.offsetParent);return{x:b,
y:d}},ready:d}},null);g("sdk.ErrorHandling","sdk.feature ManagedError sdk.Runtime sdk.Scribe UserAgent wrapFunction".split(" "),function(g,A,p,q,k,r,c,b,d,a,l,e){function h(b){var c=b._originalError;delete b._originalError;a.log("jssdk_error",{appId:d.getClientID(),error:b.name||b.message,extra:b});throw c;}function m(a){var b={line:a.lineNumber||a.line,message:a.message,name:a.name,script:a.fileName||a.sourceURL||a.script,stack:a.stackTrace||a.stack};b._originalError=a;l.chrome()&&/([\w:\.\/]+\.js):(\d+)/.test(a.stack)&&
(b.script=RegExp.$1,b.line=parseInt(RegExp.$2,10));for(var d in b)null==b[d]&&delete b[d];return b}function t(a,d){return function(){if(!w)return a.apply(this,arguments);try{return B=d,a.apply(this,arguments)}catch(c){if(c instanceof b)throw c;var e=m(c);e.entry=d;var l=f(Array.prototype.slice.call(arguments),"map",!0,function(a){var b=Object.prototype.toString.call(a);return/^\[object (String|Number|Boolean|Object|Date)\]$/.test(b)?a:a.toString()});e.args=f("JSON","stringify",!1,l).substring(0,200);
h(e)}finally{B=""}}}function v(a,b){return function(d,c){return a(e(d,"entry",b+":"+(B||"[global]")+":"+(d.name||"[anonymous]"+(arguments.callee.caller.name?"("+arguments.callee.caller.name+")":""))),c)}}var w=c("error_handling",!1),B="";w&&(I=v(I,"setTimeout"),P=v(P,"setInterval"),e.setWrapper(t,"entry"));k.exports={guard:t,unguard:function(a){a.__wrapper||(a.__wrapper=function(){try{return a.apply(this,arguments)}catch(b){return s.setTimeout(function(){throw b;},0),!1}});return a.__wrapper}}},null);
g("sdk.Insights",["sdk.Impressions"],function(f,g,p,q,k,r,c){k.exports={TYPE:{NOTICE:"notice",WARNING:"warn",ERROR:"error"},CATEGORY:{DEPRECATED:"deprecated",APIERROR:"apierror"},log:function(b,d,a){c.log(113,{source:"jssdk",type:b,category:d,payload:a})},impression:c.impression}},null);g("FB","sdk.Auth JSSDKCssConfig dotAccess sdk.domReady sdk.DOM sdk.ErrorHandling sdk.Content DOMWrapper GlobalCallback sdk.Insights Log sdk.Runtime sdk.Scribe JSSDKConfig".split(" "),function(g,A,p,q,k,r,c,b,d,a,l,
e,h,m,t,v,w,B,D,F){function E(a,b,d,c){var h;/^_/.test(d)?h="hide":x&&!x[b]&&(h=C);switch(h){case "hide":break;case "stub":return function(){w.warn("The method FB.%s has been removed from the JS SDK.",b)};default:return e.guard(function(){function d(a){return f("Array","isArray",!1,a)?f(a,"map",!0,d):a&&"object"===typeof a&&a.__wrapped?a.__wrapped:"function"===typeof a&&/^function/.test(a.toString())?e.unguard(a):a}"warn"===h&&(w.warn("The method FB.%s is not officially supported by Facebook and access to it will soon be removed.",
b),y.hasOwnProperty(b)||(v.log(v.TYPE.WARNING,v.CATEGORY.DEPRECATED,"FB."+b),D.log("jssdk_error",{appId:B.getClientID(),error:"Private method used",extra:{args:b}}),y[b]=!0));var m=f(Array.prototype.slice.call(arguments),"map",!0,d),m=a.apply(c,m),l,k=!0;if(m&&"object"===typeof m){l=Function();l.prototype=m;l=new l;l.__wrapped=m;for(var g in m){var t=m[g];"function"===typeof t&&"constructor"!==g&&(k=!1,l[g]=E(t,b+":"+g,g,m))}}return k?k?m:l:l},b)}}var n,x,C=d(F,"api.mode"),y={};n=s.FB={};g={};w.level=
1;t.setPrefix("FB.__globalCallbacks");var G=u.createElement("div");m.setRoot(G);a(function(){w.info("domReady");h.appendHidden(G);b.rules&&l.addCssRules(b.rules,b.components)});B.subscribe("AccessToken.change",function(a){a||"connected"!==B.getLoginStatus()||c.getLoginStatus(null,!0)});d(F,"api.whitelist.length")&&(x={},f(F.api.whitelist,"forEach",!0,function(a){x[a]=1}));B.setSecure(function(){var a=/iframe_canvas|app_runner/.test(s.name),b=/dialog/.test(s.name);if("https:"==location.protocol&&(s==
top||!a&&!b))return!0;if(/_fb_https?/.test(s.name))return-1!=f(s.name,"indexOf",!0,"_fb_https")}());f("Object","assign",!1,g,{provide:function(a,b){var c=a?d(n,a,!0):n;f(f("Object","keys",!1,b),"forEach",!0,function(d){var e=b[d];"function"===typeof e&&(e=E(e,(a?a+".":"")+d,d,b))&&(c[d]=e)})}});k.exports=g},null);g("ArgumentError",["ManagedError"],function(f,g,p,q,k,r,c){function b(b,a){c.prototype.constructor.apply(this,arguments)}b.prototype=new c;b.prototype.constructor=b;k.exports=b},null);g("CORSRequest",
["wrapFunction","QueryString"],function(g,A,p,q,k,r,c,b){function d(a,b){if(!s.XMLHttpRequest)return null;var d=new XMLHttpRequest,h=function(){};if("withCredentials"in d)d.open(a,b,!0),d.setRequestHeader("Content-type","application/x-www-form-urlencoded");else if(s.XDomainRequest){d=new XDomainRequest;try{d.open(a,b),d.onprogress=d.ontimeout=h}catch(f){return null}}else return null;var k={send:function(a){d.send(a)}},g=c(function(){g=h;if("onload"in k)k.onload(d)},"entry","XMLHttpRequest:load"),
w=c(function(){w=h;if("onerror"in k)k.onerror(d)},"entry","XMLHttpRequest:error");d.onload=function(){g()};d.onerror=function(){w()};d.onreadystatechange=function(){4==d.readyState&&(200==d.status?g():w())};return k}k.exports={execute:function(a,c,e,h){e.suppress_http_code=1;e=b.encode(e);"post"!=c&&(a=b.appendToUrl(a,e),e="");a=d(c,a);if(!a)return!1;a.onload=function(a){h(f("JSON","parse",!1,a.responseText))};a.onerror=function(a){a.responseText?h(f("JSON","parse",!1,a.responseText)):h({error:{type:"http",
message:"unknown error",status:a.status}})};a.send(e);return!0}}},null);g("FlashRequest",["DOMWrapper","Flash","GlobalCallback","QueryString","Queue"],function(g,A,p,q,k,r,c,b,d,a,l){function e(){if(!t)throw Error("swfUrl has not been set");var a=d.create(function(){h.start(function(a){var b=v.execute(a.method,a.url,a.body);if(!b)throw Error("Could create request");m[b]=a.callback})}),e=d.create(function(a,b,d){var c;try{c=f("JSON","parse",!1,decodeURIComponent(d))}catch(e){c={error:{type:"SyntaxError",
message:e.message,status:b,raw:d}}}m[a](c);delete m[a]});v=b.embed(t,c.getRoot(),null,{log:!1,initCallback:a,requestCallback:e})}var h,m={},t,v;k.exports={setSwfUrl:function(a){t=a},execute:function(d,c,f,m){f.suppress_http_code=1;f.method||(f.method=c);f=a.encode(f);"get"===c&&2E3>d.length+f.length?(d=a.appendToUrl(d,f),f=""):c="post";if(!h){if(!b.isAvailable())return!1;h=new l;e()}h.enqueue({method:c,url:d,body:f,callback:m});return!0}}},null);g("flattenObject",[],function(g,A,p,q,k,r){k.exports=
function(c){var b={},d;for(d in c)if(c.hasOwnProperty(d)){var a=c[d];null!==a&&void 0!==a&&(b[d]="string"==typeof a?a:f("JSON","stringify",!1,a))}return b}},null);g("JSONPRequest",["DOMWrapper","GlobalCallback","QueryString"],function(f,g,p,q,k,r,c,b,d){k.exports={execute:function(a,f,e,h){var m=u.createElement("script"),k=function(a){k=function(){};b.remove(e.callback);h(a);m.parentNode.removeChild(m)};e.callback=b.create(k);e.method||(e.method=f);a=d.appendToUrl(a,e);if(2E3<a.length)return b.remove(e.callback),
!1;m.onerror=function(){k({error:{type:"http",message:"unknown error"}})};var g=function(){I(function(){k({error:{type:"http",message:"unknown error"}})},0)};m.addEventListener?m.addEventListener("load",g,!1):m.onreadystatechange=function(){/loaded|complete/.test(this.readyState)&&g()};m.src=a;c.getRoot().appendChild(m);return!0}}},null);g("ApiClient","ArgumentError Assert CORSRequest FlashRequest flattenObject JSONPRequest Log ObservableMixin sprintf sdk.URI UrlMap ApiClientConfig invariant".split(" "),
function(g,A,p,q,k,r,c,b,d,a,l,e,h,m,t,v,w,B,D){function s(b,c,h,m){u&&(h=f("Object","assign",!1,{},u,h));h.access_token=h.access_token||y;h.pretty=h.pretty||0;h=l(h);var k={jsonp:e,cors:d,flash:a},g;h.transport?(g=[h.transport],delete h.transport):g=["jsonp","cors","flash"];for(var H=0;H<g.length;H++){var t=k[g[H]],n=f("Object","assign",!1,{},h);if(t.execute(b,c,n,m))return}m({error:{type:"no-transport",message:"Could not find a usable transport for request"}})}function E(a,b,d,c,e){R.inform("request.complete",
b,d,c,e);a&&a(e)}function n(a){var d=a.shift();b.isString(d,"Invalid path");/^https?/.test(d)||"/"===d.charAt(0)||(d="/"+d);var e,m={};try{e=new v(d)}catch(l){throw new c(l.message,l);}f(a,"forEach",!0,function(a){return m[typeof a]=a});a=(m.string||"get").toLowerCase();b.isTrue(K.hasOwnProperty(a),t("Invalid method passed to ApiClient: %s",a));(d=m["function"])||h.warn("No callback passed to the ApiClient");m.object&&e.addQueryData(m.object);var k=e.getQueryData();k.method=a;return{uri:e,callback:d,
params:k}}function x(){var a=Array.prototype.slice.call(arguments,0),b=n(a),a=b.uri,d=b.callback,b=b.params,c=b.method,e=a.getProtocol()&&a.getDomain()?a.setQueryData({}).toString():w.resolve("graph")+a.getPath();s(e,"get"==c?"get":"post",b,f(E,"bind",!0,null,d,a.getPath(),c,b))}function C(){D(0<H.length);var a=H,b=N;H=[];N=[];L=null;x("/","POST",{batch:f("JSON","stringify",!1,a),include_headers:!1},function(a){f("Array","isArray",!1,a)?f(a,"forEach",!0,function(a,d){b[d](f("JSON","parse",!1,a.body))}):
f(b,"forEach",!0,function(a){return a({error:{message:"Fatal: batch call failed."}})})})}var y,G,u,K={get:!0,post:!0,"delete":!0,put:!0},z={fql_query:!0,fql_multiquery:!0,friends_get:!0,notifications_get:!0,stream_get:!0,users_getinfo:!0},H=[],N=[],L=null,R=f("Object","assign",!1,new m,{setAccessToken:function(a){y=a},setClientID:function(a){G=a},setDefaultParams:function(a){u=a},rest:function(a,d){b.isObject(a);b.isString(a.method,"method missing");d||h.warn("No callback passed to the ApiClient");
var c=a.method.toLowerCase().replace(".","_");a.format="json-strings";a.api_key=G;var c=w.resolve(c in z?"api_read":"api")+"/restserver.php",e=f(E,"bind",!0,null,d,"/restserver.php","get",a);s(c,"get",a,e)},graph:x,scheduleBatchCall:function(){var a=Array.prototype.slice.call(arguments,0),b=n(a),a=b.uri,d=b.callback,b=b.params.method,c={method:b,relative_url:a.removeQueryData("method").toString()};"post"==b.toLowerCase()&&(c.body=a.getQueryData(),c.relative_url=a.setQueryData({}).toString());H.push(c);
N.push(d);50==H.length?C():L||(L=I(C,0))}});a.setSwfUrl(B.FlashRequest.swfUrl);k.exports=R},null);g("sdk.PlatformVersioning",["sdk.Runtime","ManagedError"],function(f,g,p,q,k,r,c,b){var d=/^v\d+\.\d\d?$/;k.exports={REGEX:d,assertVersionIsSet:function(){if(!c.getVersion())throw new b("init not called with valid version");},assertValidVersion:function(a){if(!d.test(a))throw new b("invalid version specified");}}},null);g("sdk.api",["ApiClient","sdk.PlatformVersioning","sdk.Runtime","sdk.URI"],function(g,
A,p,q,k,r,c,b,d,a){var l;d.subscribe("ClientID.change",function(a){c.setClientID(a)});d.subscribe("AccessToken.change",function(a){l=a;c.setAccessToken(a)});c.setDefaultParams({sdk:"joey"});c.subscribe("request.complete",function(a,b,c,f){a=!1;if(f&&"object"==typeof f)if(f.error){if("invalid_token"==f.error||"OAuthException"==f.error.type&&190==f.error.code)a=!0}else f.error_code&&"190"==f.error_code&&(a=!0);a&&l===d.getAccessToken()&&d.setAccessToken(null)});c.subscribe("request.complete",function(a,
b,c,f){("/me/permissions"==a&&"delete"===b||"/restserver.php"==a&&"Auth.revokeAuthorization"==c.method)&&!0===f&&d.setAccessToken(null)});k.exports=function(e){if("string"===typeof e)if(d.getIsVersioned()){b.assertVersionIsSet();/https?/.test(e)||"/"===e.charAt(0)||(e="/"+e);e=a(e).setDomain(null).setProtocol(null).toString();b.REGEX.test(e.substring(1,f(e,"indexOf",!0,"/",1)))||(e="/"+d.getVersion()+e);var h=[e].concat(Array.prototype.slice.call(arguments,1));c.graph.apply(c,h)}else c.graph.apply(c,
arguments);else c.rest.apply(c,arguments)}},null);g("legacy:fb.api",["FB","sdk.api"],function(f,g,p,q,k,r,c,b){c.provide("",{api:b})},3);g("sdk.Canvas.Environment",["sdk.RPC"],function(f,g,p,q,k,r,c){c.stub("getPageInfo");c.stub("scrollTo");k.exports={getPageInfo:function(b){c.remote.getPageInfo(function(d){b(d.result)})},scrollTo:function(b,d){c.remote.scrollTo({x:b||0,y:d||0})}}},null);g("sdk.Intl",["Log"],function(f,g,p,q,k,r,c){function b(){throw Error("Placeholder function");}b._=function(b,
a){if(void 0!==a)if("object"!=typeof a)c.error("The second arg to FB.Intl.tx() must be an Object for FB.Intl.tx("+b+", ...)");else{var f,e;for(e in a)a.hasOwnProperty(e)&&(f=a[e],f="string"!=typeof f?!1:!!f.match(RegExp("[.!?\u3002\uff01\uff1f\u0964\u2026\u0eaf\u1801\u0e2f\uff0e][)\"'\u00bb\u0f3b\u0f3d\u2019\u201d\u203a\u3009\u300b\u300d\u300f\u3011\u3015\u3017\u3019\u301b\u301e\u301f\ufd3f\uff07\uff09\uff3d\\s]*$")),f=f?new RegExp("\\{"+e+"\\}[.!?\u3002\uff01\uff1f\u0964\u2026\u0eaf\u1801\u0e2f\uff0e]*",
"g"):new RegExp("\\{"+e+"\\}","g"),b=b.replace(f,a[e]))}return b};k.exports={tx:b}},null);g("sdk.Dialog","sdk.Canvas.Environment sdk.Content sdk.DOM DOMEventListener sdk.Intl ObservableMixin sdk.Runtime Type UserAgent sdk.feature".split(" "),function(g,A,p,q,k,r,c,b,d,a,l,e,h,m,t,v){function w(){if(v("dialog_resize_refactor")){var a=d.getViewportInfo();if(a.height&&a.width)return{width:Math.min(a.width,B),height:Math.min(a.height,D)}}return null}var B=590,D=500,F=function(){var a;if(v("dialog_resize_refactor")){var b=
w();a=b&&(b.height>=B||b.width>=D)}else a=!!t.ipad();F=function(){return a};return a},E=m.extend({constructor:function(a,b){this.parent();this.id=a;this.display=b;this._e2e={};n._dialogs||(n._dialogs={},n._addOrientationHandler());n._dialogs[a]=this;this.trackEvent("init")},trackEvent:function(a,b){if(this._e2e[a])return this;this._e2e[a]=b||f("Date","now",!1);"close"==a&&this.inform("e2e:end",this._e2e);return this},trackEvents:function(a){"string"===typeof a&&(a=f("JSON","parse",!1,a));for(var b in a)a.hasOwnProperty(b)&&
this.trackEvent(b,a[b]);return this}},e),n={newInstance:function(a,b){return new E(a,b)},_dialogs:null,_lastYOffset:0,_loaderEl:null,_overlayEl:null,_stack:[],_active:null,get:function(a){return n._dialogs[a]},_findRoot:function(a){for(;a;){if(d.containsCss(a,"fb_dialog"))return a;a=a.parentNode}},_createWWWLoader:function(a){return n.create({content:'<div class="dialog_title">  <a id="fb_dialog_loader_close">    <div class="fb_dialog_close_icon"></div>  </a>  <span>Facebook</span>  <div style="clear:both;"></div></div><div class="dialog_content"></div><div class="dialog_footer"></div>',
width:a?a:460})},_createMobileLoader:function(){var a=t.nativeApp()?"":'<table>  <tbody>    <tr>      <td class="header_left">        <label class="touchable_button">          <input type="submit" value="'+l.tx._("Cancel")+'"            id="fb_dialog_loader_close"/>        </label>      </td>      <td class="header_center">        <div>'+l.tx._("Loading...")+'</div>      </td>      <td class="header_right">      </td>    </tr>  </tbody></table>';return n.create({classes:"loading"+(F()?" centered":
""),content:'<div class="dialog_header">'+a+"</div>"})},_restoreBodyPosition:function(){if(!F()){var a=u.getElementsByTagName("body")[0];d.removeCss(a,"fb_hidden")}},_showTabletOverlay:function(){F()&&(n._overlayEl||(n._overlayEl=u.createElement("div"),n._overlayEl.setAttribute("id","fb_dialog_ipad_overlay"),b.append(n._overlayEl,null)),n._overlayEl.className="")},_hideTabletOverlay:function(){F()&&(n._overlayEl.className="hidden")},showLoader:function(a,b){n._showTabletOverlay();n._loaderEl||(n._loaderEl=
n._findRoot(t.mobile()?n._createMobileLoader():n._createWWWLoader(b)));a||(a=function(){});var c=u.getElementById("fb_dialog_loader_close");d.removeCss(c,"fb_hidden");c.onclick=function(){n._hideLoader();n._restoreBodyPosition();n._hideTabletOverlay();a()};var e=u.getElementById("fb_dialog_ipad_overlay");e&&(e.ontouchstart=c.onclick);n._makeActive(n._loaderEl)},_hideLoader:function(){n._loaderEl&&n._loaderEl==n._active&&(n._loaderEl.style.top="-10000px")},_makeActive:function(a){n._setDialogSizes();
n._lowerActive();n._active=a;h.isEnvironment(h.ENVIRONMENTS.CANVAS)&&c.getPageInfo(function(a){n._centerActive(a)});n._centerActive()},_lowerActive:function(){n._active&&(n._active.style.top="-10000px",n._active=null)},_removeStacked:function(a){n._stack=f(n._stack,"filter",!0,function(b){return b!=a})},_centerActive:function(a){var b=n._active;if(b){var c=d.getViewportInfo(),e=parseInt(b.offsetWidth,10),h=parseInt(b.offsetHeight,10),e=c.scrollLeft+(c.width-e)/2,f=(c.height-h)/2.5;e<f&&(f=e);var m=
c.height-h-f,l=(c.height-h)/2;a&&(l=a.scrollTop-a.offsetTop+(a.clientHeight-h)/2);l<f?l=f:l>m&&(l=m);l+=c.scrollTop;t.mobile()&&(a=100,F()?a+=(c.height-h)/2:(c=u.getElementsByTagName("body")[0],d.addCss(c,"fb_hidden"),v("dialog_resize_refactor")&&(c.style.width="auto"),l=1E4),c=d.getByClass("fb_dialog_padding",b),c.length&&(c[0].style.height=a+"px"));b.style.left=(0<e?e:0)+"px";b.style.top=(0<l?l:0)+"px"}},_setDialogSizes:function(){if(t.mobile()&&!F())for(var a in n._dialogs)if(n._dialogs.hasOwnProperty(a)){var b=
u.getElementById(a);b&&(b.style.width=n.getDefaultSize().width+"px",b.style.height=n.getDefaultSize().height+"px")}},getDefaultSize:function(){if(t.mobile()){var a=w();if(a)return a;if(t.ipad())return{width:D,height:B};if(t.android())return{width:screen.availWidth,height:screen.availHeight};var a=s.innerWidth,b=s.innerHeight;return{width:a,height:Math.max(b,1.2<a/b?screen.width:screen.height)}}return{width:575,height:240}},_handleOrientationChange:function(a){a=v("dialog_resize_refactor",!1)?d.getViewportInfo().width:
screen.availWidth;if(t.android()&&a==n._availScreenWidth)I(n._handleOrientationChange,50);else if(n._availScreenWidth=a,F())n._centerActive();else{a=n.getDefaultSize().width;for(var b in n._dialogs)if(n._dialogs.hasOwnProperty(b)){var c=u.getElementById(b);c&&(c.style.width=a+"px")}}},_addOrientationHandler:function(){if(t.mobile()){var b="onorientationchange"in s?"orientationchange":"resize";n._availScreenWidth=v("dialog_resize_refactor",!1)?d.getViewportInfo().width:screen.availWidth;a.add(s,b,
n._handleOrientationChange)}},create:function(a){a=a||{};var d=u.createElement("div"),c=u.createElement("div"),e="fb_dialog";if(a.closeIcon&&a.onClose){var h=u.createElement("a");h.className="fb_dialog_close_icon";h.onclick=a.onClose;d.appendChild(h)}e+=" "+(a.classes||"");t.ie()?(e+=" fb_dialog_legacy",f("vert_left vert_right horiz_top horiz_bottom top_left top_right bottom_left bottom_right".split(" "),"forEach",!0,function(a){var b=u.createElement("span");b.className="fb_dialog_"+a;d.appendChild(b)})):
e+=t.mobile()?" fb_dialog_mobile":" fb_dialog_advanced";a.content&&b.append(a.content,c);d.className=e;e=parseInt(a.width,10);isNaN(e)||(d.style.width=e+"px");c.className="fb_dialog_content";d.appendChild(c);t.mobile()&&(e=u.createElement("div"),e.className="fb_dialog_padding",d.appendChild(e));b.append(d);a.visible&&n.show(d);return c},show:function(a){var b=n._findRoot(a);b&&(n._removeStacked(b),n._hideLoader(),n._makeActive(b),n._stack.push(b),"fbCallID"in a&&n.get(a.fbCallID).inform("iframe_show").trackEvent("show"))},
hide:function(a){var b=n._findRoot(a);n._hideLoader();b==n._active&&(n._lowerActive(),n._restoreBodyPosition(),n._hideTabletOverlay(),"fbCallID"in a&&n.get(a.fbCallID).inform("iframe_hide").trackEvent("hide"))},remove:function(a){if(a=n._findRoot(a)){var b=n._active==a;n._removeStacked(a);b?(n._hideLoader(),0<n._stack.length?n.show(n._stack.pop()):(n._lowerActive(),n._restoreBodyPosition(),n._hideTabletOverlay())):null===n._active&&0<n._stack.length&&n.show(n._stack.pop());I(function(){a.parentNode.removeChild(a)},
3E3)}},isActive:function(a){return(a=n._findRoot(a))&&a===n._active}};k.exports=n},null);g("sdk.Frictionless",["sdk.Auth","sdk.api","sdk.Event","sdk.Dialog"],function(g,A,p,q,k,r,c,b,d,a){var l={_allowedRecipients:{},_useFrictionless:!1,_updateRecipients:function(){l._allowedRecipients={};b("/me/apprequestformerrecipients",function(a){a&&!a.error&&f(a.data,"forEach",!0,function(a){l._allowedRecipients[a.recipient_id]=!0})})},init:function(){l._useFrictionless=!0;c.getLoginStatus(function(a){"connected"==
a.status&&l._updateRecipients()});d.subscribe("auth.login",function(a){a.authResponse&&l._updateRecipients()})},_processRequestResponse:function(b,d){return function(c){var f=c&&c.updated_frictionless;l._useFrictionless&&f&&l._updateRecipients();c&&(!d&&c.frictionless&&(a._hideLoader(),a._restoreBodyPosition(),a._hideIPadOverlay()),delete c.frictionless,delete c.updated_frictionless);b&&b(c)}},isAllowed:function(a){if(!a)return!1;if("number"===typeof a)return a in l._allowedRecipients;"string"===
typeof a&&(a=a.split(","));a=f(a,"map",!0,function(a){return f(String(a),"trim",!0)});var b=!0,d=!1;f(a,"forEach",!0,function(a){b=b&&a in l._allowedRecipients;d=!0});return b&&d}};d.subscribe("init:post",function(a){a.frictionlessRequests&&l.init()});k.exports=l},null);g("insertIframe",["guid","GlobalCallback"],function(f,g,p,q,k,r,c,b){k.exports=function(d){d.id=d.id||c();d.name=d.name||c();var a=!1,f=!1,e=function(){a&&!f&&(f=!0,d.onload&&d.onload(d.root.firstChild))},h=b.create(e);if(u.attachEvent){var m=
'<iframe id="'+d.id+'" name="'+d.name+'"'+(d.title?' title="'+d.title+'"':"")+(d.className?' class="'+d.className+'"':"")+' style="border:none;'+(d.width?"width:"+d.width+"px;":"")+(d.height?"height:"+d.height+"px;":"")+'" src="javascript:false;" frameborder="0" scrolling="no" allowtransparency="true" onload="'+h+'()"></iframe>';d.root.innerHTML='<iframe src="javascript:false" frameborder="0" scrolling="no" style="height:1px"></iframe>';a=!0;I(function(){d.root.innerHTML=m;d.root.firstChild.src=d.url;
d.onInsert&&d.onInsert(d.root.firstChild)},0)}else h=u.createElement("iframe"),h.id=d.id,h.name=d.name,h.onload=e,h.scrolling="no",h.style.border="none",h.style.overflow="hidden",d.title&&(h.title=d.title),d.className&&(h.className=d.className),void 0!==d.height&&(h.style.height=d.height+"px"),void 0!==d.width&&(h.style.width="100%"==d.width?d.width:d.width+"px"),d.root.appendChild(h),a=!0,h.src=d.url,d.onInsert&&d.onInsert(h)}},null);g("sdk.Native",["Log","UserAgent"],function(g,A,p,q,k,r,c,b){k.exports=
{onready:function(d){if(b.nativeApp())if(s.__fbNative&&!this.nativeReady&&f("Object","assign",!1,this,s.__fbNative),this.nativeReady)d();else{var a=function(b){s.removeEventListener("fbNativeReady",a);this.onready(d)};s.addEventListener("fbNativeReady",a,!1)}else c.error("FB.Native.onready only works when the page is rendered in a WebView of the native Facebook app. Test if this is the case calling FB.UA.nativeApp()")}}},null);g("resolveURI",[],function(f,g,p,q,k,r){k.exports=function(c){if(!c)return s.location.href;
c=c.replace(/&/g,"&amp;").replace(/"/g,"&quot;");var b=u.createElement("div");b.innerHTML='<a href="'+c+'"></a>';return b.firstChild.href}},null);g("sdk.UIServer","sdk.Auth sdk.Content createObjectFrom sdk.Dialog sdk.DOM sdk.Event flattenObject sdk.Frictionless sdk.getContextType guid insertIframe Log sdk.Native QueryString resolveURI sdk.RPC sdk.Runtime JSSDKConfig UrlMap UserAgent sdk.XD".split(" "),function(g,A,p,q,k,r,c,b,d,a,l,e,h,m,t,v,w,B,D,F,E,n,x,C,y,G,T){var K={transform:function(a){return"touch"===
a.params.display&&a.params.access_token&&s.postMessage?(a.params.channel=z._xdChannelHandler(a.id,"parent"),G.nativeApp()||(a.params.in_iframe=1),a):z.genericTransform(a)},getXdRelation:function(a){return"touch"===a.display&&s.postMessage&&a.in_iframe?"parent":z.getXdRelation(a)}},z={Methods:{"stream.share":{size:{width:670,height:340},url:"sharer.php",transform:function(a){a.params.u||(a.params.u=s.location.toString());a.params.display="popup";return a}},apprequests:{transform:function(a){a=K.transform(a);
a.params.frictionless=m&&m._useFrictionless;a.params.frictionless&&(m.isAllowed(a.params.to)&&(a.params.display="iframe",a.params.in_iframe=!0,a.hideLoader=!0),a.cb=m._processRequestResponse(a.cb,a.hideLoader));a.closeIcon=!1;return a},getXdRelation:K.getXdRelation},feed:K,"permissions.oauth":{url:"dialog/oauth",size:{width:G.mobile()?null:475,height:G.mobile()?null:183},transform:function(a){if(x.getClientID()){if(!c.getAuthResponse()||a.params.scope||a.params.auth_type){var b=a.cb,e=a.id;delete a.cb;
var h=f("Object","keys",!1,f("Object","assign",!1,a.params.response_type?d(a.params.response_type.split(",")):{},{token:!0,signed_request:!0})).join(",");"async"===a.params.display?(f("Object","assign",!1,a.params,{client_id:x.getClientID(),origin:t(),response_type:h,domain:location.hostname}),a.cb=c.xdResponseWrapper(b,c.getAuthResponse(),"permissions.oauth")):f("Object","assign",!1,a.params,{client_id:x.getClientID(),redirect_uri:E(z.xdHandler(b,e,"opener",c.getAuthResponse(),"permissions.oauth")),
origin:t(),response_type:h,domain:location.hostname});return a}B.error("FB.login() called when user is already connected.");a.cb&&a.cb({status:x.getLoginStatus(),authResponse:c.getAuthResponse()})}else B.error("FB.login() called before FB.init().")}},"auth.logout":{url:"logout.php",transform:function(a){if(x.getClientID()){if(c.getAuthResponse())return a.params.next=z.xdHandler(a.cb,a.id,"parent",c.getAuthResponse(),"logout"),a;B.error("FB.logout() called without an access token.")}else B.error("FB.logout() called before calling FB.init().")}},
"login.status":{url:"dialog/oauth",transform:function(a){var b=a.cb,d=a.id;delete a.cb;f("Object","assign",!1,a.params,{client_id:x.getClientID(),redirect_uri:z.xdHandler(b,d,"parent",c.getAuthResponse(),"login_status"),origin:t(),response_type:"token,signed_request,code",domain:location.hostname});return a}}},_loadedNodes:{},_defaultCb:{},_resultToken:'"xxRESULTTOKENxx"',genericTransform:function(a){"dialog"!=a.params.display&&"iframe"!=a.params.display||f("Object","assign",!1,a.params,{display:"iframe",
channel:z._xdChannelHandler(a.id,"parent.parent")},!0);return a},checkOauthDisplay:function(a){var b=a.scope||a.perms||x.getScope();if(!b)return a.display;for(var b=b.split(/\s|,/g),d=0;d<b.length;d++)if(!C.initSitevars.iframePermissions[f(b[d],"trim",!0)])return"popup";return a.display},prepareCall:function(b,d){var c=b.method.toLowerCase(),e=z.Methods.hasOwnProperty(c)?f("Object","assign",!1,{},z.Methods[c]):{},h=v(),m=x.getSecure()||"auth.status"!==c&&"login.status"!=c;f("Object","assign",!1,b,
{app_id:x.getClientID(),locale:x.getLocale(),sdk:"joey",access_token:m&&x.getAccessToken()||void 0});b.display=z.getDisplayMode(e,b);e.url||(e.url="dialog/"+c);"dialog/oauth"!=e.url&&"dialog/permissions.request"!=e.url||!("iframe"==b.display||"touch"==b.display&&b.in_iframe)||(b.display=z.checkOauthDisplay(b));x.getIsVersioned()&&"dialog/"===e.url.substring(0,7)&&(e.url=b.version+"/"+e.url);c={cb:d,id:h,size:e.size||z.getDefaultSize(),url:y.resolve("touch"==b.display?"m":"www",m)+"/"+e.url,params:b,
name:c,dialog:a.newInstance(h,b.display)};if(m=e.transform?e.transform:z.genericTransform)if(c=m(c),!c)return;e=(e.getXdRelation||z.getXdRelation)(c.params);c.id in z._defaultCb||"next"in c.params||"redirect_uri"in c.params||(c.params.next=z._xdResult(c.cb,c.id,e,!0));"parent"===e&&f("Object","assign",!1,c.params,{channel_url:z._xdChannelHandler(h,"parent.parent")},!0);return c=z.prepareParams(c)},prepareParams:function(a){"async"!==a.params.display&&delete a.params.method;a.params=h(a.params);var b=
F.encode(a.params);!G.nativeApp()&&z.urlTooLongForIE(a.url+"?"+b)?a.post=!0:b&&(a.url+="?"+b);return a},urlTooLongForIE:function(a){return 2E3<a.length},getDisplayMode:function(a,b){if("hidden"===b.display||"none"===b.display)return b.display;var c=x.isEnvironment(x.ENVIRONMENTS.CANVAS)||x.isEnvironment(x.ENVIRONMENTS.PAGETAB);return c&&!b.display?"async":G.mobile()||"touch"===b.display?"touch":x.getAccessToken()||"iframe"!=b.display&&"dialog"!=b.display||a.loggedOutIframe?a.connectDisplay&&!c?a.connectDisplay:
b.display||(x.getAccessToken()?"dialog":"popup"):(B.error('"dialog" mode can only be used when the user is connected.'),"popup")},getXdRelation:function(a){a=a.display;if("popup"===a||"touch"===a)return"opener";if("dialog"===a||"iframe"===a||"hidden"===a||"none"===a)return"parent";if("async"===a)return"parent.frames["+s.name+"]"},popup:function(a){var c="undefined"!=typeof s.screenX?s.screenX:s.screenLeft,d="undefined"!=typeof s.screenY?s.screenY:s.screenTop,e="undefined"!=typeof s.outerWidth?s.outerWidth:
u.documentElement.clientWidth,f="undefined"!=typeof s.outerHeight?s.outerHeight:u.documentElement.clientHeight-22,h=G.mobile()?null:a.size.width,m=G.mobile()?null:a.size.height,c=parseInt((0>c?s.screen.width+c:c)+(e-h)/2,10),d=parseInt(d+(f-m)/2.5,10),f=[];null!==h&&f.push("width="+h);null!==m&&f.push("height="+m);f.push("left="+c);f.push("top="+d);f.push("scrollbars=1");"permissions.request"!=a.name&&"permissions.oauth"!=a.name||f.push("location=1,toolbar=0");f=f.join(",");if(a.post){if(h=s.open("about:blank",
a.id,f))z.setLoadedNode(a,h,"popup"),b.submitToTarget({url:a.url,target:a.id,params:a.params})}else(h=s.open(a.url,a.id,f))&&z.setLoadedNode(a,h,"popup");h&&a.id in z._defaultCb&&z._popupMonitor()},setLoadedNode:function(a,b,c){a.params&&"popup"!=a.params.display&&(b.fbCallID=a.id);b={node:b,type:c,fbCallID:a.id};z._loadedNodes[a.id]=b},getLoadedNode:function(a){return(a=z._loadedNodes["object"==typeof a?a.id:a])?a.node:null},hidden:function(a){a.className="FB_UI_Hidden";a.root=b.appendHidden("");
z._insertIframe(a)},iframe:function(b){b.className="FB_UI_Dialog";var c=function(){z._triggerDefault(b.id)};b.root=a.create({onClose:c,closeIcon:void 0===b.closeIcon?!0:b.closeIcon,classes:G.ipad()?"centered":""});b.hideLoader||a.showLoader(c,b.size.width);l.addCss(b.root,"fb_dialog_iframe");z._insertIframe(b)},touch:function(b){b.params&&b.params.in_iframe?b.ui_created?a.showLoader(function(){z._triggerDefault(b.id)},0):z.iframe(b):G.nativeApp()&&!b.ui_created?(b.frame=b.id,D.onready(function(){z.setLoadedNode(b,
D.open(b.url+"#cb="+b.frameName),"native")}),z._popupMonitor()):b.ui_created||z.popup(b)},async:function(b){b.params.redirect_uri=location.protocol+"//"+location.host+location.pathname;delete b.params.access_token;n.remote.showDialog(b.params,function(c){if((c=c.result)&&c.e2e){var d=a.get(b.id);d.trackEvents(c.e2e);d.trackEvent("close");delete c.e2e}b.cb(c)})},getDefaultSize:function(){return a.getDefaultSize()},_insertIframe:function(a){z._loadedNodes[a.id]=!1;var c=function(b){a.id in z._loadedNodes&&
z.setLoadedNode(a,b,"iframe")};a.post?w({url:"about:blank",root:a.root,className:a.className,width:a.size.width,height:a.size.height,id:a.id,onInsert:c,onload:function(c){b.submitToTarget({url:a.url,target:c.name,params:a.params})}}):w({url:a.url,root:a.root,className:a.className,width:a.size.width,height:a.size.height,id:a.id,name:a.frameName,onInsert:c})},_handleResizeMessage:function(b,c){var d=z.getLoadedNode(b);d&&(c.height&&(d.style.height=c.height+"px"),c.width&&(d.style.width=c.width+"px"),
T.inform("resize.ack",c||{},"parent.frames["+d.name+"]"),a.isActive(d)||a.show(d))},_triggerDefault:function(a){z._xdRecv({frame:a},z._defaultCb[a]||function(){})},_popupMonitor:function(){var a,b;for(b in z._loadedNodes)if(z._loadedNodes.hasOwnProperty(b)&&b in z._defaultCb){var c=z._loadedNodes[b];if("popup"==c.type||"native"==c.type){c=c.node;try{c.closed?z._triggerDefault(b):a=!0}catch(d){}}}a&&!z._popupInterval?z._popupInterval=P(z._popupMonitor,100):!a&&z._popupInterval&&(S(z._popupInterval),
z._popupInterval=null)},_xdChannelHandler:function(b,c){return T.handler(function(c){var d=z.getLoadedNode(b);d&&("resize"==c.type?z._handleResizeMessage(b,c):"hide"==c.type?a.hide(d):"rendered"==c.type?(c=a._findRoot(d),a.show(c)):"fireevent"==c.type&&e.fire(c.event))},c,!0,null)},_xdNextHandler:function(a,b,c,d){d&&(z._defaultCb[b]=a);return T.handler(function(b){z._xdRecv(b,a)},c)+"&frame="+b},_xdRecv:function(b,c){var d=z.getLoadedNode(b.frame);if(d)if(d.close)try{d.close(),/iPhone.*Version\/(5|6)/.test(navigator.userAgent)&&
"5"!==RegExp.$1&&s.focus(),z._popupCount--}catch(e){}else l.containsCss(d,"FB_UI_Hidden")?I(function(){d.parentNode.parentNode.removeChild(d.parentNode)},3E3):l.containsCss(d,"FB_UI_Dialog")&&a.remove(d);delete z._loadedNodes[b.frame];delete z._defaultCb[b.frame];if(b.e2e){var f=a.get(b.frame);f.trackEvents(b.e2e);f.trackEvent("close");delete b.e2e}c(b)},_xdResult:function(a,b,c,d){return z._xdNextHandler(function(b){a&&a(b.result&&b.result!=z._resultToken&&f("JSON","parse",!1,b.result))},b,c,d)+
"&result="+encodeURIComponent(z._resultToken)},xdHandler:function(a,b,d,e,f){return z._xdNextHandler(c.xdResponseWrapper(a,e,f),b,d,!0)}};n.stub("showDialog");k.exports=z},null);g("sdk.ui","Assert sdk.Impressions Log sdk.PlatformVersioning sdk.Runtime sdk.UIServer sdk.feature".split(" "),function(g,A,p,q,k,r,c,b,d,a,l,e,h){k.exports=function(m,g){c.isObject(m);c.maybeFunction(g);l.getIsVersioned()&&(a.assertVersionIsSet(),m.version?a.assertValidVersion(m.version):m.version=l.getVersion());m=f("Object",
"assign",!1,{},m);if(!m.method)return d.error('"method" is a required parameter for FB.ui().'),null;var k=m.method;m.redirect_uri&&(d.warn("When using FB.ui, you should not specify a redirect_uri."),delete m.redirect_uri);"permissions.request"!=k&&"permissions.oauth"!=k||"iframe"!=m.display&&"dialog"!=m.display||(m.display=e.checkOauthDisplay(m));var w=h("e2e_tracking",!0);w&&(m.e2e={});var B=e.prepareCall(m,g||function(){});if(!B)return null;var p=B.params.display;"dialog"===p?p="iframe":"none"===
p&&(p="hidden");var q=e[p];if(!q)return d.error('"display" must be one of "popup", "dialog", "iframe", "touch", "async", "hidden", or "none"'),null;w&&B.dialog.subscribe("e2e:end",function(a){a.method=k;a.display=p;d.debug("e2e: %s",f("JSON","stringify",!1,a));b.log(114,{payload:a})});q(B);return B.dialog}},null);g("legacy:fb.auth","sdk.Auth sdk.Cookie copyProperties sdk.Event FB Log sdk.Runtime sdk.SignedRequest sdk.ui".split(" "),function(g,A,p,q,k,r,c,b,d,a,l,e,h,m,t){l.provide("",{getLoginStatus:function(){return c.getLoginStatus.apply(c,
arguments)},getAuthResponse:function(){return c.getAuthResponse()},getAccessToken:function(){return h.getAccessToken()||null},getUserID:function(){return h.getUserID()||h.getCookieUserID()},login:function(a,b){b&&b.perms&&!b.scope&&(b.scope=b.perms,delete b.perms,e.warn("OAuth2 specification states that 'perms' should now be called 'scope'.  Please update."));var c=h.isEnvironment(h.ENVIRONMENTS.CANVAS)||h.isEnvironment(h.ENVIRONMENTS.PAGETAB);t(d({method:"permissions.oauth",display:c?"async":"popup",
domain:location.hostname},b||{}),a)},logout:function(a){t({method:"auth.logout",display:"hidden"},a)}});c.subscribe("logout",f(a.fire,"bind",!0,a,"auth.logout"));c.subscribe("login",f(a.fire,"bind",!0,a,"auth.login"));c.subscribe("authresponse.change",f(a.fire,"bind",!0,a,"auth.authResponseChange"));c.subscribe("status.change",f(a.fire,"bind",!0,a,"auth.statusChange"));a.subscribe("init:post",function(a){a.status&&c.getLoginStatus();if(h.getClientID())if(a.authResponse)c.setAuthResponse(a.authResponse,
"connected");else if(h.getUseCookie()){a=b.loadSignedRequest();var d;if(a){try{d=m.parse(a)}catch(e){b.clearSignedRequestCookie()}d&&d.user_id&&h.setCookieUserID(d.user_id)}b.loadMeta()}})},3);g("sdk.Canvas.IframeHandling",["DOMWrapper","sdk.RPC"],function(f,g,p,q,k,r,c,b){function d(a){"object"!=typeof a&&(a={});var d=0,f=0;if(!a.height){var d=a,g=c.getWindow().document,f=g.body,g=g.documentElement,k=Math.max(f.offsetTop,0),w=Math.max(g.offsetTop,0),f=Math.max(f.scrollHeight+k,f.offsetHeight+k,g.scrollHeight+
w,g.offsetHeight+w);d.height=f;d=16;f=4}a.frame||(a.frame=s.name||"iframe_canvas");if(l&&(g=a.height-l.height,g<=f&&g>=-d))return!1;l=a;b.remote.setSize(a);return!0}var a=null,l;b.stub("setSize");k.exports={setSize:d,setAutoGrow:function(b,c){void 0===c&&"number"===typeof b&&(c=b,b=!0);b||void 0===b?(null===a&&(a=P(function(){d()},c||100)),d()):null!==a&&(S(a),a=null)}}},null);g("sdk.Canvas.Navigation",["sdk.RPC"],function(f,g,p,q,k,r,c){c.stub("setNavigationEnabled");k.exports={setUrlHandler:function(b){c.local.navigate=
function(c){b({path:c})};c.remote.setNavigationEnabled(!0)}}},null);g("sdk.Canvas.Plugin","sdk.api sdk.RPC Log UserAgent sdk.Runtime createArrayFrom".split(" "),function(g,A,p,q,k,r,c,b,d,a,l,e){function h(a){a._hideunity_savedstyle={};a._hideunity_savedstyle.left=a.style.left;a._hideunity_savedstyle.position=a.style.position;a._hideunity_savedstyle.width=a.style.width;a._hideunity_savedstyle.height=a.style.height;a.style.left="-10000px";a.style.position="absolute";a.style.width="1px";a.style.height=
"1px"}function m(a){a._hideunity_savedstyle&&(a.style.left=a._hideunity_savedstyle.left,a.style.position=a._hideunity_savedstyle.position,a.style.width=a._hideunity_savedstyle.width,a.style.height=a._hideunity_savedstyle.height)}function t(a){a._old_visibility=a.style.visibility;a.style.visibility="hidden"}function v(a){a.style.visibility=a._old_visibility||"";delete a._old_visibility}function w(a){if(!("application/x-shockwave-flash"===(a.type?a.type.toLowerCase():null)||a.classid&&a.classid.toUpperCase()==
u))return!1;var b=/opaque|transparent/i;if(b.test(a.getAttribute("wmode")))return!1;for(var c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];if(/param/i.test(d.nodeName)&&/wmode/i.test(d.name)&&b.test(d.value))return!1}return!0}function B(a){return"application/vnd.unity"===(a.type?a.type.toLowerCase():null)||a.classid&&a.classid.toUpperCase()==E}function D(a){var b=e(s.document.getElementsByTagName("object")),b=b.concat(e(s.document.getElementsByTagName("embed"))),g=!1,k=!1;f(b,"forEach",!0,function(b){var c=
w(b),e=x&&B(b);if(c||e)g=g||c,k=k||e,e=function(){"opened"===a.state?c?t(b):h(b):c?v(b):m(b)},n?(d.info("Calling developer specified callback"),n({state:a.state,elem:b}),I(e,200)):e()});.001>=Math.random()&&(b={unity:k,flash:g},c(l.getClientID()+"/occludespopups","post",b))}var u="CLSID:D27CDB6E-AE6D-11CF-96B8-444553540000",E="CLSID:444785F1-DE89-4295-863A-D46C3A781394",n=null,x=!(10.9<=a.osx()&&(31<=a.chrome()||537.71<=a.webkit()||25<=a.firefox()));b.local.hidePluginObjects=function(){d.info("hidePluginObjects called");
D({state:"opened"})};b.local.showPluginObjects=function(){d.info("showPluginObjects called");D({state:"closed"})};b.local.showFlashObjects=b.local.showPluginObjects;b.local.hideFlashObjects=b.local.hidePluginObjects;k.exports={_setHidePluginCallback:function(a){n=a},hidePluginElement:function(){t();h()},showPluginElement:function(){v();m()}}},null);g("sdk.Canvas.Tti",["sdk.RPC","sdk.Runtime"],function(g,A,p,q,k,r,c,b){function d(a,d){var e=[{appId:b.getClientID(),time:f("Date","now",!1),name:d}];
a&&e.push(function(b){a(b.result)});c.remote.logTtiMessage.apply(null,e)}c.stub("logTtiMessage");k.exports={setDoneLoading:function(a){d(a,"RecordIframeAppTti")},startTimer:function(){d(null,"StartIframeAppTtiTimer")},stopTimer:function(a){d(a,"StopIframeAppTtiTimer")}}},null);g("legacy:fb.canvas","Assert sdk.Canvas.Environment sdk.Event FB sdk.Canvas.IframeHandling sdk.Canvas.Navigation sdk.Canvas.Plugin sdk.RPC sdk.Runtime sdk.Canvas.Tti".split(" "),function(g,A,p,q,k,r,c,b,d,a,l,e,h,m,t,v){a.provide("Canvas",
{setSize:function(a){c.maybeObject(a,"Invalid argument");return l.setSize.apply(null,arguments)},setAutoGrow:function(){return l.setAutoGrow.apply(null,arguments)},getPageInfo:function(a){c.isFunction(a,"Invalid argument");return b.getPageInfo.apply(null,arguments)},scrollTo:function(a,d){c.maybeNumber(a,"Invalid argument");c.maybeNumber(d,"Invalid argument");return b.scrollTo.apply(null,arguments)},setDoneLoading:function(a){c.maybeFunction(a,"Invalid argument");return v.setDoneLoading.apply(null,
arguments)},startTimer:function(){return v.startTimer.apply(null,arguments)},stopTimer:function(a){c.maybeFunction(a,"Invalid argument");return v.stopTimer.apply(null,arguments)},getHash:function(a){c.isFunction(a,"Invalid argument");return e.getHash.apply(null,arguments)},setHash:function(a){c.isString(a,"Invalid argument");return e.setHash.apply(null,arguments)},setUrlHandler:function(a){c.isFunction(a,"Invalid argument");return e.setUrlHandler.apply(null,arguments)}});m.local.fireEvent=f(d.fire,
"bind",!0,d);d.subscribe("init:post",function(a){t.isEnvironment(t.ENVIRONMENTS.CANVAS)&&(c.isTrue(!a.hideFlashCallback||!a.hidePluginCallback,"cannot specify deprecated hideFlashCallback and new hidePluginCallback"),h._setHidePluginCallback(a.hidePluginCallback||a.hideFlashCallback))})},3);g("legacy:fb.canvas-legacy",["Assert","FB","Log","sdk.Canvas.Tti"],function(f,g,p,q,k,r,c,b,d,a){b.provide("CanvasInsights",{setDoneLoading:function(b){d.warn("Deprecated: use FB.Canvas.setDoneLoading");c.maybeFunction(b,
"Invalid argument");return a.setDoneLoading.apply(null,arguments)}})},3);g("sdk.Canvas.Prefetcher",["sdk.api","createArrayFrom","JSSDKCanvasPrefetcherConfig","sdk.Runtime"],function(g,A,p,q,k,r,c,b,d,a){function l(){var d={object:"data",link:"href",script:"src"};t==e.AUTOMATIC&&f(f("Object","keys",!1,d),"forEach",!0,function(a){var c=d[a];f(b(u.getElementsByTagName(a)),"forEach",!0,function(a){a[c]&&v.push(a[c])})});0!==v.length&&(c(a.getClientID()+"/staticresources","post",{urls:f("JSON","stringify",
!1,v),is_https:"https:"===location.protocol}),v=[])}var e={AUTOMATIC:0,MANUAL:1},h=d.sampleRate,m=d.blacklist,t=e.AUTOMATIC,v=[];k.exports={COLLECT_AUTOMATIC:e.AUTOMATIC,COLLECT_MANUAL:e.MANUAL,addStaticResource:function(a){v.push(a)},setCollectionMode:function(a){t=a},_maybeSample:function(){a.isEnvironment(a.ENVIRONMENTS.CANVAS)&&a.getClientID()&&h&&(Math.random()>1/h||"*"==m||~f(m,"indexOf",!0,a.getClientID())||I(l,3E4))}}},null);g("legacy:fb.canvas.prefetcher",["FB","sdk.Canvas.Prefetcher","sdk.Event",
"sdk.Runtime"],function(f,g,p,q,k,r,c,b,d,a){c.provide("Canvas.Prefetcher",b);d.subscribe("init:post",function(c){a.isEnvironment(a.ENVIRONMENTS.CANVAS)&&b._maybeSample()})},3);g("legacy:fb.compat.ui",["copyProperties","FB","Log","sdk.ui","sdk.UIServer"],function(f,g,p,q,k,r,c,b,d,a,l){b.provide("",{share:function(b){d.error("share() has been deprecated. Please use FB.ui() instead.");a({display:"popup",method:"stream.share",u:b})},publish:function(b,f){d.error("publish() has been deprecated. Please use FB.ui() instead.");
b=b||{};a(c({display:"popup",method:"stream.publish",preview:1},b||{}),f)},addFriend:function(b,c){d.error("addFriend() has been deprecated. Please use FB.ui() instead.");a({display:"popup",id:b,method:"friend.add"},c)}});l.Methods["auth.login"]=l.Methods["permissions.request"]},3);g("mergeArrays",[],function(g,A,p,q,k,r){k.exports=function(c,b){for(var d=0;d<b.length;d++)0>f(c,"indexOf",!0,b[d])&&c.push(b[d]);return c}},null);g("format",[],function(f,g,p,q,k,r){k.exports=function(c,b){b=Array.prototype.slice.call(arguments,
1);return c.replace(/\{(\d+)\}/g,function(c,a){var f=b[Number(a)];return null===f||void 0===f?"":f.toString()})}},null);g("safeEval",[],function(f,g,p,q,k,r){k.exports=function(c,b){if(null!==c&&"undefined"!==typeof c)return"string"!==typeof c?c:/^\w+$/.test(c)&&"function"===typeof s[c]?s[c].apply(null,b||[]):Function('return eval("'+c.replace(/"/g,'\\"')+'");').apply(null,b||[])}},null);g("sdk.Waitable",["sdk.Model"],function(g,s,p,q,k,r,c){g=c.extend({constructor:function(){this.parent({Value:void 0})},
error:function(b){this.inform("error",b)},wait:function(b,c){c&&this.subscribe("error",c);this.monitor("Value.change",f(function(){var a=this.getValue();if(void 0!==a)return this.value=a,b(a),!0},"bind",!0,this))}});k.exports=g},null);g("sdk.Query",["format","safeEval","Type","sdk.Waitable"],function(g,s,p,q,k,r,c,b,d,a){function l(a){return f(a.split(","),"map",!0,function(a){return f(a,"trim",!0)})}function e(a){return"string"===typeof a?f("JSON","stringify",!1,a):a}var h=1,m=a.extend({constructor:function(){this.parent();
this.name="v_"+h++},hasDependency:function(a){arguments.length&&(this._hasDependency=a);return!!this._hasDependency},parse:function(a){var e=c.apply(null,a),e=/^select (.*?) from (\w+)\s+where (.*)$/i.exec(e);this.fields=l(e[1]);this.table=e[2];var e=e[3],f=/^\s*(\w+)\s*=\s*(.*)\s*$/i.exec(e),h,g="unknown";f&&(h=f[2],/^(["'])(?:\\?.)*?\1$/.test(h)?(h=b(h),g="index"):/^\d+\.?\d*$/.test(h)&&(g="index"));this.where="index"==g?{type:"index",key:f[1],value:h}:{type:"unknown",value:e};for(h=1;h<a.length;h++)d.instanceOf(m,
a[h])&&a[h].hasDependency(!0);return this},toFql:function(){var a="select "+this.fields.join(",")+" from "+this.table+" where ";switch(this.where.type){case "unknown":a+=this.where.value;break;case "index":a+=this.where.key+"="+e(this.where.value);break;case "in":a=1==this.where.value.length?a+(this.where.key+"="+e(this.where.value[0])):a+(this.where.key+" in ("+f(this.where.value,"map",!0,e).join(",")+")")}return a},toString:function(){return"#"+this.name}});k.exports=m},null);g("sdk.Data","sdk.api sdk.ErrorHandling mergeArrays sdk.Query safeEval sdk.Waitable".split(" "),
function(g,s,p,q,k,r,c,b,d,a,l,e){var h={query:function(b,c){var d=(new a).parse(Array.prototype.slice.call(arguments));h.queue.push(d);h._waitToProcess();return d},waitOn:function(a,c){var d=new e,g=a.length;if("string"==typeof c){var k=c;c=b.unguard(function(){return l(k)})}f(a,"forEach",!0,function(b){b.monitor("Value.change",function(){var e=!1;void 0!==h._getValue(b)&&(b.value=b.getValue(),g--,e=!0);if(0===g){var l=c(f(a,"map",!0,h._getValue));d.setValue(void 0!==l?l:!0)}return e})});return d},
process:function(a){h._process(a)},_getValue:function(a){return a instanceof e?a.getValue():a},_selectByIndex:function(b,c,d,e){var f=new a;f.fields=b;f.table=c;f.where={type:"index",key:d,value:e};h.queue.push(f);h._waitToProcess();return f},_waitToProcess:function(){0>h.timer&&(h.timer=I(function(){h._process()},10))},_process:function(a){h.timer=-1;var b={},d=h.queue;if(d.length){h.queue=[];for(var e=0;e<d.length;e++){var g=d[e];"index"!=g.where.type||g.hasDependency()?b[g.name]=g:h._mergeIndexQuery(g,
b)}var d={q:{}},l;for(l in b)b.hasOwnProperty(l)&&(d.q[l]=b[l].toFql());a&&(d.access_token=a);c("/fql","GET",d,function(a){a.error?f(f("Object","keys",!1,b),"forEach",!0,function(c){b[c].error(Error(a.error.message))}):f(a.data,"forEach",!0,function(a){b[a.name].setValue(a.fql_result_set)})})}},_mergeIndexQuery:function(b,c){var e=b.where.key,h=b.where.value,g="index_"+b.table+"_"+e,l=c[g];l||(l=c[g]=new a,l.fields=[e],l.table=b.table,l.where={type:"in",key:e,value:[]});d(l.fields,b.fields);d(l.where.value,
[h]);l.wait(function(a){b.setValue(f(a,"filter",!0,function(a){return a[e]==h}))})},timer:-1,queue:[]};k.exports=h},null);g("legacy:fb.data",["FB","sdk.Data"],function(f,g,p,q,k,r,c,b){c.provide("Data",b)},3);g("legacy:fb.event",["FB","sdk.Event"],function(g,s,p,q,k,r,c,b){c.provide("Event",{subscribe:f(b.subscribe,"bind",!0,b),unsubscribe:f(b.unsubscribe,"bind",!0,b)})},3);g("legacy:fb.event-legacy",["FB","sdk.Event"],function(g,s,p,q,k,r,c,b){c.provide("Event",{clear:f(b.clear,"bind",!0,b),fire:f(b.fire,
"bind",!0,b),monitor:f(b.monitor,"bind",!0,b)});c.provide("EventProvider",b)},3);g("legacy:fb.frictionless",["FB","sdk.Frictionless"],function(f,g,p,q,k,r,c,b){c.provide("Frictionless",b)},3);g("sdk.init","sdk.Cookie sdk.ErrorHandling sdk.Event Log ManagedError sdk.PlatformVersioning QueryString sdk.Runtime sdk.URI createArrayFrom".split(" "),function(g,A,p,q,k,r,c,b,d,a,l,e,h,m,t,v){function w(b){m.getInitialized()&&a.warn("FB.init has already been called - this could indicate a problem");if(m.getIsVersioned()){if("[object Object]"!==
Object.prototype.toString.call(b))throw new l("Invalid argument");b.authResponse&&a.warn("Setting authResponse is not supported");b.version||(b.version=t(location.href).getQueryData().sdk_version);e.assertValidVersion(b.version);m.setVersion(b.version)}else/number|string/.test(typeof b)&&(a.warn("FB.init called with invalid parameters"),b={apiKey:b}),b=f("Object","assign",!1,{status:!0},b||{});var h;h=b.appId||b.apiKey;"number"==typeof h&&0<h||"string"==typeof h&&/^[0-9a-f]{21,}$|^[0-9]{1,21}$/.test(h)?
h=h.toString():(a.warn("Invalid App Id: Must be a number or numeric string representing the application id."),h=null);null!==h&&m.setClientID(h);"scope"in b&&m.setScope(b.scope);b.cookie&&(m.setUseCookie(!0),"string"===typeof b.cookie&&c.setDomain(b.cookie));b.kidDirectedSite&&m.setKidDirectedSite(!0);m.setInitialized(!0);d.fire("init:post",b)}I(function(){var a=/(connect\.facebook\.net|\.facebook\.com\/assets.php).*?#(.*)/;f(v(u.getElementsByTagName("script")),"forEach",!0,function(b){if(b.src&&
(b=a.exec(b.src))){b=h.decode(b[2]);for(var c in b)b.hasOwnProperty(c)&&"0"==b[c]&&(b[c]=0);w(b)}});s.fbAsyncInit&&!s.fbAsyncInit.hasRun&&(s.fbAsyncInit.hasRun=!0,b.unguard(s.fbAsyncInit)())},0);k.exports=w},null);g("legacy:fb.init",["FB","sdk.init"],function(f,g,p,q,k,r,c,b){c.provide("",{init:b})},3);g("legacy:fb.json",["FB","ManagedError"],function(g,s,p,q,k,r,c,b){c.provide("JSON",{stringify:function(c){try{return f("JSON","stringify",!1,c)}catch(a){throw new b(a.message,a);}},parse:function(c){try{return f("JSON",
"parse",!1,c)}catch(a){throw new b(a.message,a);}}})},3);g("legacy:fb.pay",["copyProperties","sdk.Runtime","sdk.UIServer","sdk.XD","FB"],function(g,u,p,q,k,r,c,b,d,a){u("FB");var l={error_code:1383001,error_message:"An unknown error caused the dialog to be closed"},e=function(a){return function(b){a(b&&b.response?f("JSON","parse",!1,b.response):l)}};c(d.Methods,{"pay.prompt":{transform:function(b){var c=a.handler(e(b.cb),"parent.frames["+(s.name||"iframe_canvas")+"]");b.params.channel=c;a.inform("Pay.Prompt",
b.params)}},pay:{size:{width:555,height:120},connectDisplay:"popup",transform:function(c){c.cb=e(c.cb);if(!b.isEnvironment(b.ENVIRONMENTS.CANVAS))return c.params.order_info=f("JSON","stringify",!1,c.params.order_info),c;var d=a.handler(c.cb,"parent.frames["+(s.name||"iframe_canvas")+"]");c.params.channel=d;c.params.uiserver=!0;a.inform("Pay.Prompt",c.params)}}})},3);g("legacy:fb.ua",["FB","UserAgent"],function(f,g,p,q,k,r,c,b){c.provide("UA",{nativeApp:b.nativeApp})},3);g("legacy:fb.ui",["FB","sdk.ui"],
function(f,g,p,q,k,r,c,b){c.provide("",{ui:b})},3);g("Miny",[],function(g,s,p,q,k,r){function c(a){for(var c=b.encode.length;c<a;c++){var e=c.toString(32).split("");e[e.length-1]=d[parseInt(e[e.length-1],32)];e=e.join("");b.encode[c]=e;b.decode[e]=c}return b}var b={encode:[],decode:{}},d="wxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_".split("");k.exports={encode:function(a){if(/^$|[~\\]|__proto__/.test(a))return a;a=a.match(/\w+|\W+/g);for(var b={},d=0;d<a.length;d++)b[a[d]]=(b[a[d]]||0)+1;var h=f("Object","keys",
!1,b);h.sort(function(a,c){return b[a]<b[c]?1:b[c]<b[a]?-1:0});for(var g=c(h.length).encode,d=0;d<h.length;d++)b[h[d]]=g[d];g=[];for(d=0;d<a.length;d++)g[d]=b[a[d]];return["Miny1",h.length].concat(h).concat(g.join("")).join("~")},decode:function(a){var b=a.split("~");if("Miny1"!=b.shift())return a;var d=parseInt(b.shift(),10);a=b.pop();a=a.match(/[0-9a-v]*[\-w-zA-Z_]/g);for(var d=c(d).decode,f=[],g=0;g<a.length;g++)f[g]=b[d[a[g]]];return f.join("")}}},null);g("runOnce",[],function(f,g,p,q,k,r){k.exports=
function(c){var b,d;return function(){b||(b=!0,d=c());return d}}},null);g("XFBML","Assert createArrayFrom sdk.DOM sdk.feature sdk.Impressions Log ObservableMixin runOnce UserAgent".split(" "),function(g,s,p,q,k,r,c,b,d,a,l,e,h,m,t){function v(a){return E[(a.nodeName+"").toLowerCase()]||E[(a.scopeName?a.scopeName+":"+a.nodeName:"").toLowerCase()]}function w(a){var b=f(f(a.className+"","trim",!0).split(/\s+/),"filter",!0,function(a){return n.hasOwnProperty(a)});if(0!==b.length&&(a.getAttribute("fb-xfbml-state")||
!a.childNodes||0===a.childNodes.length||1===a.childNodes.length&&3===a.childNodes[0].nodeType||1===a.children.length&&"fb-xfbml-parse-ignore"===a.children[0].className+""))return n[b[0]]}function B(a){var c={};f(b(a.attributes),"forEach",!0,function(a){c[a.name+""]=a.value+""});return c}function D(a,c,e){var h=u.createElement("div");d.addCss(a,c+"-"+e);f(b(a.childNodes),"forEach",!0,function(a){h.appendChild(a)});f(b(a.attributes),"forEach",!0,function(a){h.setAttribute(a.name,a.value)});a.parentNode.replaceChild(h,
a);return h}function F(a,d,h){c.isTrue(a&&a.nodeType&&1===a.nodeType&&!!a.getElementsByTagName,"Invalid DOM node passed to FB.XFBML.parse()");c.isFunction(d,"Invalid callback passed to FB.XFBML.parse()");var g=++x;e.info("XFBML Parsing Start %s",g);var k=1,l=0,n=function(){k--;0===k&&(e.info("XFBML Parsing Finish %s, %s tags found",g,l),d(),C.inform("render",g,l));c.isTrue(0<=k,"onrender() has been called too many times")};f(b(a.getElementsByTagName("*")),"forEach",!0,function(a){if((h||!a.getAttribute("fb-xfbml-state"))&&
1===a.nodeType){var b=v(a)||w(a);if(b){9>t.ie()&&a.scopeName&&(a=D(a,b.xmlns,b.localName));k++;l++;var c=new b.ctor(a,b.xmlns,b.localName,B(a));c.subscribe("render",m(function(){a.setAttribute("fb-xfbml-state","rendered");n()}));var d=function(){"parsed"==a.getAttribute("fb-xfbml-state")?C.subscribe("render.queue",d):(a.setAttribute("fb-xfbml-state","parsed"),c.process())};d()}}});C.inform("parse",g,l);I(function(){0<k&&e.warn("%s tags failed to render in %s ms",k,3E4)},3E4);n()}var E={},n={},x=0,
C=new h;C.subscribe("render",function(){var a=C.getSubscribers("render.queue");C.clearSubscribers("render.queue");f(a,"forEach",!0,function(a){a()})});f("Object","assign",!1,C,{registerTag:function(a){var b=a.xmlns+":"+a.localName;c.isUndefined(E[b],b+" already registered");E[b]=a;n[a.xmlns+"-"+a.localName]=a},parse:function(a,b){F(a||u.body,b||function(){},!0)},parseNew:function(){F(u.body,function(){},!1)}});if(a("log_tag_count")){var y=function(a,b){C.unsubscribe("parse",y);I(f(l.log,"bind",!0,
null,102,{tag_count:b}),5E3)};C.subscribe("parse",y)}k.exports=C},null);g("PluginPipe","sdk.Content sdk.feature guid insertIframe Miny ObservableMixin JSSDKPluginPipeConfig sdk.Runtime UrlMap UserAgent XFBML".split(" "),function(g,s,p,q,k,r,c,b,d,a,l,e,h,m,t,v,w){function B(b){var e=u.createElement("span");c.appendHidden(e);var h={};f(b,"forEach",!0,function(a){h[a.config.name]={plugin:a.tag,params:a.params}});var g=f("JSON","stringify",!1,h),k=l.encode(g);f(b,"forEach",!0,function(a){u.getElementsByName(a.config.name)[0].onload=
a.config.onload});var p=t.resolve("www",m.getSecure())+"/plugins/pipe.php",q=d();a({url:"about:blank",root:e,name:q,className:"fb_hidden fb_invisible",onload:function(){c.submitToTarget({url:p,target:q,params:{plugins:k.length<g.length?k:g}})}})}g=new e;var D=h.threshold,F=[];w.subscribe("parse",function(){function b(){d--;0===d&&B(c)}var c=F;F=[];if(c.length<=D)f(c,"forEach",!0,function(b){a(b.config)});else{var d=c.length+1;f(c,"forEach",!0,function(c){var d={},e;for(e in c.config)d[e]=c.config[e];
d.url=t.resolve("www",m.getSecure())+"/plugins/plugin_pipe_shell.php";d.onload=b;a(d)});b()}});f("Object","assign",!1,g,{add:function(a){var c=!(!b("plugin_pipe")||void 0===m.getSecure()||!v.chrome()&&!v.firefox()||!h.enabledApps[m.getClientID()]);c&&F.push({config:a._config,tag:a._tag,params:a._params});return c}});k.exports=g},null);g("IframePlugin","sdk.Auth sdk.DOM sdk.Event Log ObservableMixin sdk.PlatformVersioning PluginPipe QueryString sdk.Runtime Type sdk.URI UrlMap UserAgent sdk.XD sdk.createIframe guid resolveURI".split(" "),
function(g,A,p,q,k,r,c,b,d,a,l,e,h,m,t,v,w,B,D,F,E,n,x){function C(a,b,c){if(b||0===b)a.style.width=b+"px";if(c||0===c)a.style.height=c+"px"}function y(a){return function(b){d.fire("xfbml.resize",{width:b.width,height:b.height,pluginID:a})}}function G(a,b){return a[b]||a[b.replace(/_/g,"-")]||a[b.replace(/_/g,"")]||a["data-"+b]||a["data-"+b.replace(/_/g,"-")]||a["data-"+b.replace(/_/g,"")]||void 0}function M(a,b,c,d){f(f("Object","keys",!1,a),"forEach",!0,function(e){"text"!=a[e]||c[e]||(c[e]=b.textContent||
b.innerText||"",b.setAttribute(e,c[e]));d[e]=H[a[e]](G(c,e))})}function K(a){return a||"0"===a||0===a?parseInt(a,10):void 0}var z={skin:"string",font:"string",width:"px",height:"px",ref:"string",color_scheme:"string"},H={string:function(a){return a},bool:function(a){return a?/^(?:true|1|yes|on)$/i.test(a):void 0},url:function(a){return x(a)},url_maybe:function(a){return a?x(a):a},hostname:function(a){return a||s.location.hostname},px:function(a){return/^(\d+)(?:px)?$/.test(a)?parseInt(RegExp.$1,10):
void 0},text:function(a){return a}},N=v.extend({constructor:function(a,e,h,g){this.parent();h=h.replace(/-/g,"_");var k=G(g,"plugin_id");this.subscribe("xd.resize",y(k));this.subscribe("xd.resize.flow",y(k));this.subscribe("xd.resize.flow",f(function(a){f("Object","assign",!1,this._config.root.style,{verticalAlign:"bottom",overflow:""});C(this._config.root,K(a.width),K(a.height));this.updateLift();O(this._timeoutID)},"bind",!0,this));this.subscribe("xd.resize",f(function(a){f("Object","assign",!1,
this._config.root.style,{verticalAlign:"bottom",overflow:""});C(this._config.root,K(a.width),K(a.height));C(this._iframe,K(a.width),K(a.height));this._isIframeResized=!0;this.updateLift();O(this._timeoutID)},"bind",!0,this));this.subscribe("xd.resize.iframe",f(function(a){C(this._iframe,K(a.width),K(a.height));this._isIframeResized=!0;this.updateLift();O(this._timeoutID)},"bind",!0,this));this.subscribe("xd.sdk_event",function(b){var c=f("JSON","parse",!1,b.data);c.pluginID=k;d.fire(b.event,c,a)});
var l=t.getSecure()||"https:"==s.location.protocol,l=B.resolve("www",l)+"/plugins/"+h+".php?",p={};M(this.getParams(),a,g,p);M(z,a,g,p);f("Object","assign",!1,p,{app_id:t.getClientID(),locale:t.getLocale(),sdk:"joey",kid_directed_site:t.getKidDirectedSite(),channel:F.handler(f(function(a){return this.inform("xd."+a.type,a)},"bind",!0,this),"parent.parent",!0)});b.addCss(a,"fb_iframe_widget");var q=n();this.subscribe("xd.verify",function(a){F.sendToFacebook(q,{method:"xd/verify",params:f("JSON","stringify",
!1,a.token)})});this.subscribe("xd.refreshLoginStatus",f(c.getLoginStatus,"bind",!0,c,f(this.inform,"bind",!0,this,"login.status"),!0));g=u.createElement("span");f("Object","assign",!1,g.style,{verticalAlign:"top",width:"0px",height:"0px",overflow:"hidden"});this._element=a;this._ns=e;this._tag=h;this._params=p;this._config={root:g,url:l+m.encode(p),name:q,width:D.mobile()?void 0:p.width||1E3,height:p.height||1E3,style:{border:"none",visibility:"hidden"},title:this._ns+":"+this._tag+" Facebook Social Plugin",
onload:f(function(){return this.inform("render")},"bind",!0,this),onerror:f(function(){var a=this._iframe;a&&C(a,0,0)},"bind",!0,this)}},process:function(){if(t.getIsVersioned()){e.assertVersionIsSet();var c=w(this._config.url);this._config.url=c.setPath("/"+t.getVersion()+c.getPath()).toString()}c=f("Object","assign",!1,{},this._params);delete c.channel;c=m.encode(c);if(this._element.getAttribute("fb-iframe-plugin-query")==c)a.info("Skipping render: %s:%s %s",this._ns,this._tag,c),this.inform("render");
else{this._element.setAttribute("fb-iframe-plugin-query",c);for(this.subscribe("render",f(function(){this._iframe.style.visibility="visible";if(!this._isIframeResized){var a=this._iframe;a&&C(a,0,0)}},"bind",!0,this));this._element.firstChild;)this._element.removeChild(this._element.firstChild);this._element.appendChild(this._config.root);var d=D.mobile()?120:45;this._timeoutID=I(f(function(){var b=this._iframe;b&&C(b,0,0);a.warn("%s:%s failed to resize in %ss",this._ns,this._tag,d)},"bind",!0,this),
1E3*d);h.add(this)||(this._iframe=E(this._config));D.mobile()&&(b.addCss(this._element,"fb_iframe_widget_fluid"),f("Object","assign",!1,this._element.style,{display:"block",width:"100%",height:"auto"}),f("Object","assign",!1,this._config.root.style,{width:"100%",height:"auto"}),f("Object","assign",!1,this._iframe.style,{width:"100%",height:"auto",position:"static"}))}},updateLift:function(){b[this._iframe.style.width===this._config.root.style.width&&this._iframe.style.height===this._config.root.style.height?
"removeCss":"addCss"](this._iframe,"fb_iframe_widget_lift")}},l);N.getVal=G;N.withParams=function(a){return N.extend({getParams:function(){return a}})};k.exports=N},null);g("PluginTags",[],function(g,s,p,q,k,r){var c={activity:{filter:"string",action:"string",max_age:"string",linktarget:"string",header:"bool",recommendations:"bool",site:"hostname"},composer:{action_type:"string",action_properties:"string"},create_event_button:{},degrees:{href:"url"},facepile:{href:"string",action:"string",size:"string",
max_rows:"string",show_count:"bool"},follow:{href:"url",layout:"string",show_faces:"bool"},like:{href:"url",layout:"string",show_faces:"bool",share:"bool",action:"string",send:"bool"},like_box:{href:"string",show_faces:"bool",header:"bool",stream:"bool",force_wall:"bool",show_border:"bool",id:"string",connections:"string",profile_id:"string",name:"string"},open_graph:{href:"url",layout:"string",show_faces:"bool",action_type:"string",action_properties:"string"},open_graph_preview:{action_type:"string",
action_properties:"string"},page_events:{href:"url"},post:{href:"url",show_border:"bool"},privacy_selector:{},profile_pic:{uid:"string",linked:"bool",href:"string",size:"string",facebook_logo:"bool"},recommendations:{filter:"string",action:"string",max_age:"string",linktarget:"string",header:"bool",site:"hostname"},share_button:{href:"url",type:"string"},shared_activity:{header:"bool"},send:{href:"url"},send_to_mobile:{max_rows:"string",show_faces:"bool",size:"string"},story:{href:"url",show_border:"bool"},
topic:{topic_name:"string",topic_id:"string"},want:{href:"url",layout:"string",show_faces:"bool"}},b={subscribe:"follow",fan:"like_box",likebox:"like_box",friendpile:"facepile"};f(f("Object","keys",!1,b),"forEach",!0,function(d){c[d]=c[b[d]]});k.exports=c},null);g("sdk.Arbiter",[],function(f,g,p,q,k,r){k.exports={BEHAVIOR_EVENT:"e",BEHAVIOR_PERSISTENT:"p",BEHAVIOR_STATE:"s"}},null);g("sdk.XFBML.Element",["sdk.DOM","Type","ObservableMixin"],function(g,s,p,q,k,r,c,b,d){g=b.extend({constructor:function(a){this.parent();
this.dom=a},fire:function(){this.inform.apply(this,arguments)},getAttribute:function(a,b,d){return(a=c.getAttr(this.dom,a))?d?d(a):a:b},_getBoolAttribute:function(a,b){var d=c.getBoolAttr(this.dom,a);return null===d?b:d},_getPxAttribute:function(a,b){return this.getAttribute(a,b,function(a){a=parseInt(a,10);return isNaN(a)?b:a})},_getLengthAttribute:function(a,b){return this.getAttribute(a,b,function(a){if("100%"===a)return a;a=parseInt(a,10);return isNaN(a)?b:a})},_getAttributeFromList:function(a,
b,c){return this.getAttribute(a,b,function(a){a=a.toLowerCase();return-1<f(c,"indexOf",!0,a)?a:b})},isValid:function(){for(var a=this.dom;a;a=a.parentNode)if(a==u.body)return!0},clear:function(){c.html(this.dom,"")}},d);k.exports=g},null);g("sdk.XFBML.IframeWidget","sdk.Arbiter sdk.Auth sdk.Content sdk.DOM sdk.Event sdk.XFBML.Element guid insertIframe QueryString sdk.Runtime sdk.ui UrlMap sdk.XD".split(" "),function(g,s,p,q,k,r,c,b,d,a,l,e,h,m,t,v,w,B,D){g=e.extend({_iframeName:null,_showLoader:!0,
_refreshOnAuthChange:!1,_allowReProcess:!1,_fetchPreCachedLoader:!1,_visibleAfter:"load",_widgetPipeEnabled:!1,_borderReset:!1,_repositioned:!1,getUrlBits:function(){throw Error("Inheriting class needs to implement getUrlBits().");},setupAndValidate:function(){return!0},oneTimeSetup:function(){},getSize:function(){},getIframeName:function(){return this._iframeName},getIframeTitle:function(){return"Facebook Social Plugin"},getChannelUrl:function(){if(!this._channelUrl){var a=this;this._channelUrl=
D.handler(function(b){a.fire("xd."+b.type,b)},"parent.parent",!0)}return this._channelUrl},getIframeNode:function(){return this.dom.getElementsByTagName("iframe")[0]},arbiterInform:function(a,b,d){D.sendToFacebook(this.getIframeName(),{method:a,params:f("JSON","stringify",!1,b||{}),behavior:d||c.BEHAVIOR_PERSISTENT})},_arbiterInform:function(a,b,c){var d='parent.frames["'+this.getIframeNode().name+'"]';D.inform(a,b,d,c)},getDefaultWebDomain:function(){return B.resolve("www")},process:function(b){if(this._done){if(!this._allowReProcess&&
!b)return;this.clear()}else this._oneTimeSetup();this._done=!0;this._iframeName=this.getIframeName()||this._iframeName||h();if(this.setupAndValidate()){this._showLoader&&this._addLoader();a.addCss(this.dom,"fb_iframe_widget");"immediate"!=this._visibleAfter?a.addCss(this.dom,"fb_hide_iframes"):this.subscribe("iframe.onload",f(this.fire,"bind",!0,this,"render"));b=this.getSize()||{};var c=this.getFullyQualifiedURL();"100%"==b.width&&a.addCss(this.dom,"fb_iframe_widget_fluid");this.clear();m({url:c,
root:this.dom.appendChild(u.createElement("span")),name:this._iframeName,title:this.getIframeTitle(),className:v.getRtl()?"fb_rtl":"fb_ltr",height:b.height,width:b.width,onload:f(this.fire,"bind",!0,this,"iframe.onload")});this._resizeFlow(b);this.loaded=!1;this.subscribe("iframe.onload",f(function(){this.loaded=!0;this._isResizeHandled||a.addCss(this.dom,"fb_hide_iframes")},"bind",!0,this))}else this.fire("render")},generateWidgetPipeIframeName:function(){F++;return"fb_iframe_"+F},getFullyQualifiedURL:function(){var a=
this._getURL(),a=a+("?"+t.encode(this._getQS()));if(2E3<a.length){var a="about:blank",b=f(function(){this._postRequest();this.unsubscribe("iframe.onload",b)},"bind",!0,this);this.subscribe("iframe.onload",b)}return a},_getWidgetPipeShell:function(){return B.resolve("www")+"/common/widget_pipe_shell.php"},_oneTimeSetup:function(){this.subscribe("xd.resize",f(this._handleResizeMsg,"bind",!0,this));this.subscribe("xd.resize",f(this._bubbleResizeEvent,"bind",!0,this));this.subscribe("xd.resize.iframe",
f(this._resizeIframe,"bind",!0,this));this.subscribe("xd.resize.flow",f(this._resizeFlow,"bind",!0,this));this.subscribe("xd.resize.flow",f(this._bubbleResizeEvent,"bind",!0,this));this.subscribe("xd.refreshLoginStatus",function(){b.getLoginStatus(function(){},!0)});this.subscribe("xd.logout",function(){w({method:"auth.logout",display:"hidden"},function(){})});this._refreshOnAuthChange&&this._setupAuthRefresh();"load"==this._visibleAfter&&this.subscribe("iframe.onload",f(this._makeVisible,"bind",
!0,this));this.subscribe("xd.verify",f(function(a){this.arbiterInform("xd/verify",a.token)},"bind",!0,this));this.oneTimeSetup()},_makeVisible:function(){this._removeLoader();a.removeCss(this.dom,"fb_hide_iframes");this.fire("render")},_setupAuthRefresh:function(){b.getLoginStatus(f(function(a){var b=a.status;l.subscribe("auth.statusChange",f(function(a){this.isValid()&&("unknown"!=b&&"unknown"!=a.status||this.process(!0),b=a.status)},"bind",!0,this))},"bind",!0,this))},_handleResizeMsg:function(a){this.isValid()&&
(this._resizeIframe(a),this._resizeFlow(a),this._borderReset||(this.getIframeNode().style.border="none",this._borderReset=!0),this._isResizeHandled=!0,this._makeVisible())},_bubbleResizeEvent:function(a){a={height:a.height,width:a.width,pluginID:this.getAttribute("plugin-id")};l.fire("xfbml.resize",a)},_resizeIframe:function(a){var b=this.getIframeNode();"true"===a.reposition&&this._repositionIframe(a);a.height&&(b.style.height=a.height+"px");a.width&&(b.style.width=a.width+"px");this._updateIframeZIndex()},
_resizeFlow:function(a){var b=this.dom.getElementsByTagName("span")[0];a.height&&(b.style.height=a.height+"px");a.width&&(b.style.width=a.width+"px");this._updateIframeZIndex()},_updateIframeZIndex:function(){var b=this.dom.getElementsByTagName("span")[0],c=this.getIframeNode();a[c.style.height===b.style.height&&c.style.width===b.style.width?"removeCss":"addCss"](c,"fb_iframe_widget_lift")},_repositionIframe:function(b){var c=this.getIframeNode(),d=parseInt(a.getStyle(c,"width"),10),e=a.getPosition(c).x,
f=a.getViewportInfo().width;b=parseInt(b.width,10);e+b>f&&e>b?(c.style.left=d-b+"px",this.arbiterInform("xd/reposition",{type:"horizontal"}),this._repositioned=!0):this._repositioned&&(c.style.left="0px",this.arbiterInform("xd/reposition",{type:"restore"}),this._repositioned=!1)},_addLoader:function(){this._loaderDiv||(a.addCss(this.dom,"fb_iframe_widget_loader"),this._loaderDiv=u.createElement("div"),this._loaderDiv.className="FB_Loader",this.dom.appendChild(this._loaderDiv))},_removeLoader:function(){this._loaderDiv&&
(a.removeCss(this.dom,"fb_iframe_widget_loader"),this._loaderDiv.parentNode&&this._loaderDiv.parentNode.removeChild(this._loaderDiv),this._loaderDiv=null)},_getQS:function(){return f("Object","assign",!1,{api_key:v.getClientID(),locale:v.getLocale(),sdk:"joey",kid_directed_site:v.getKidDirectedSite(),ref:this.getAttribute("ref")},this.getUrlBits().params)},_getURL:function(){return this.getDefaultWebDomain()+"/plugins/"+this.getUrlBits().name+".php"},_postRequest:function(){d.submitToTarget({url:this._getURL(),
target:this.getIframeNode().name,params:this._getQS()})}});var F=0;k.exports=g},null);g("sdk.XFBML.Comments","sdk.Event sdk.XFBML.IframeWidget QueryString sdk.Runtime JSSDKConfig UrlMap UserAgent".split(" "),function(g,A,p,q,k,r,c,b,d,a,l,e,h){g=b.extend({_visibleAfter:"immediate",_refreshOnAuthChange:!0,setupAndValidate:function(){var b={channel_url:this.getChannelUrl(),colorscheme:this.getAttribute("colorscheme"),skin:this.getAttribute("skin"),numposts:this.getAttribute("num-posts",10),width:this._getLengthAttribute("width"),
href:this.getAttribute("href"),permalink:this.getAttribute("permalink"),publish_feed:this.getAttribute("publish_feed"),order_by:this.getAttribute("order_by"),mobile:this._getBoolAttribute("mobile")};b.width||b.permalink||(b.width=550);l.initSitevars.enableMobileComments&&h.mobile()&&!1!==b.mobile&&(b.mobile=!0,delete b.width);b.skin||(b.skin=b.colorscheme);if(b.href){var c=this.getAttribute("fb_comment_id");c||(c=d.decode(u.URL.substring(f(u.URL,"indexOf",!0,"?")+1)).fb_comment_id)&&0<f(c,"indexOf",
!0,"#")&&(c=c.substring(0,f(c,"indexOf",!0,"#")));c&&(b.fb_comment_id=c,this.subscribe("render",f(function(){s.location.hash||(s.location.hash=this.getIframeNode().id)},"bind",!0,this)))}else b.migrated=this.getAttribute("migrated"),b.xid=this.getAttribute("xid"),b.title=this.getAttribute("title",u.title),b.url=this.getAttribute("url",u.URL),b.quiet=this.getAttribute("quiet"),b.reverse=this.getAttribute("reverse"),b.simple=this.getAttribute("simple"),b.css=this.getAttribute("css"),b.notify=this.getAttribute("notify"),
b.xid||(c=f(u.URL,"indexOf",!0,"#"),b.xid=0<c?encodeURIComponent(u.URL.substring(0,c)):encodeURIComponent(u.URL)),b.migrated&&(b.href=e.resolve("www")+"/plugins/comments_v1.php?app_id="+a.getClientID()+"&xid="+encodeURIComponent(b.xid)+"&url="+encodeURIComponent(b.url));this._attr=b;return!0},oneTimeSetup:function(){this.subscribe("xd.addComment",f(this._handleCommentMsg,"bind",!0,this));this.subscribe("xd.commentCreated",f(this._handleCommentCreatedMsg,"bind",!0,this));this.subscribe("xd.commentRemoved",
f(this._handleCommentRemovedMsg,"bind",!0,this))},getSize:function(){if(!this._attr.permalink)return{width:this._attr.mobile?"100%":this._attr.width,height:160}},getUrlBits:function(){return{name:"comments",params:this._attr}},getDefaultWebDomain:function(){return e.resolve(this._attr.mobile?"m":"www",!0)},_handleCommentMsg:function(a){this.isValid()&&c.fire("comments.add",{post:a.post,user:a.user,widget:this})},_handleCommentCreatedMsg:function(a){this.isValid()&&c.fire("comment.create",{href:a.href,
commentID:a.commentID,parentCommentID:a.parentCommentID,message:a.message})},_handleCommentRemovedMsg:function(a){this.isValid()&&c.fire("comment.remove",{href:a.href,commentID:a.commentID})}});k.exports=g},null);g("sdk.XFBML.CommentsCount",["ApiClient","sdk.DOM","sdk.XFBML.Element","sprintf"],function(g,u,p,q,k,r,c,b,d,a){g=d.extend({process:function(){b.addCss(this.dom,"fb_comments_count_zero");var d=this.getAttribute("href",s.location.href);c.scheduleBatchCall("/v2.0/"+encodeURIComponent(d),{fields:"comments"},
f(function(c){c=c.comments||0;b.html(this.dom,a('<span class="fb_comments_count">%s</span>',c));0<c&&b.removeCss(this.dom,"fb_comments_count_zero");this.fire("render")},"bind",!0,this))}});k.exports=g},null);g("sdk.Anim",["sdk.DOM"],function(g,s,p,q,k,r,c){k.exports={ate:function(b,d,a,g){a=!isNaN(parseFloat(a))&&0<=a?a:750;var e={},h={},k=null,t=P(f(function(){k||(k=f("Date","now",!1));var p=1;0!=a&&(p=Math.min((f("Date","now",!1)-k)/a,1));for(var q in d)if(d.hasOwnProperty(q)){var r=d[q];if(!e[q]){var s=
c.getStyle(b,q);if(!1===s)return;e[q]=this._parseCSS(s+"")}h[q]||(h[q]=this._parseCSS(r.toString()));var u="";f(e[q],"forEach",!0,function(a,b){u=isNaN(h[q][b].numPart)&&"?"==h[q][b].textPart?a.numPart+a.textPart:isNaN(a.numPart)?a.textPart:u+(a.numPart+Math.ceil((h[q][b].numPart-a.numPart)*Math.sin(Math.PI/2*p))+h[q][b].textPart+" ")});c.setStyle(b,q,u)}1==p&&(S(t),g&&g(b))},"bind",!0,this),40)},_parseCSS:function(b){var c=[];f(b.split(" "),"forEach",!0,function(a){var b=parseInt(a,10);c.push({numPart:b,
textPart:a.replace(b,"")})});return c}}},null);g("escapeHTML",[],function(f,g,p,q,k,r){var c=/[&<>"'\/]/g,b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;","/":"&#x2F;"};k.exports=function(d){return d.replace(c,function(a){return b[a]})}},null);g("sdk.Helper",["sdk.ErrorHandling","sdk.Event","UrlMap","safeEval","sprintf"],function(f,g,p,q,k,r,c,b,d,a,l){k.exports={isUser:function(a){return 22E8>a||1E14<=a&&0x5b0a58f100ef>=a||89E12<=a&&89999999999999>=a},upperCaseFirstChar:function(a){return 0<
a.length?a.substr(0,1).toUpperCase()+a.substr(1):a},getProfileLink:function(a,b,c){!c&&a&&(c=l("%s/profile.php?id=%s",d.resolve("www"),a.uid||a.id));c&&(b=l('<a class="fb_link" href="%s">%s</a>',c,b));return b},invokeHandler:function(b,d,f){b&&("string"===typeof b?c.unguard(a)(b,f):b.apply&&c.unguard(b).apply(d,f||[]))},fireEvent:function(a,c){var d=c._attr.href;c.fire(a,d);b.fire(a,d,c)},executeFunctionByName:function(a){for(var b=Array.prototype.slice.call(arguments,1),c=a.split("."),d=c.pop(),
f=s,g=0;g<c.length;g++)f=f[c[g]];return f[d].apply(this,b)}}},null);g("sdk.XFBML.ConnectBar","sdk.Anim sdk.api sdk.Auth createArrayFrom JSSDKConnectBarConfig sdk.Data sdk.DOM sdk.XFBML.Element escapeHTML sdk.Event format sdk.Helper sdk.Insights sdk.Intl sdk.Runtime UrlMap UserAgent".split(" "),function(g,A,p,q,k,r,c,b,d,a,l,e,h,m,t,v,w,B,D,F,E,n,x){g=m.extend({_initialHeight:null,_initTopMargin:0,_picFieldName:"pic_square",_page:null,_displayed:!1,_notDisplayed:!1,_container:null,_animationSpeed:0,
process:function(){d.getLoginStatus(f(function(a){v.monitor("auth.statusChange",f(function(){this.isValid()&&"connected"==E.getLoginStatus()?(this._uid=E.getUserID(),b({method:"Connect.shouldShowConnectBar"},f(function(a){2!=a?(this._animationSpeed=0==a?750:0,this._showBar()):this._noRender()},"bind",!0,this))):this._noRender();return!1},"bind",!0,this))},"bind",!0,this))},_showBar:function(){var a=e._selectByIndex(["first_name","profile_url",this._picFieldName],"user","uid",this._uid),b=e._selectByIndex(["display_name"],
"application","api_key",E.getClientID());e.waitOn([a,b],f(function(a){a[0][0].site_name=a[1][0].display_name;this._displayed||(this._displayed=!0,this._notDisplayed=!1,this._renderConnectBar(a[0][0]),this.fire("render"),D.impression({lid:104,name:"widget_load"}),this.fire("connectbar.ondisplay"),v.fire("connectbar.ondisplay",this),B.invokeHandler(this.getAttribute("on-display"),this))},"bind",!0,this))},_noRender:function(){this._displayed&&(this._displayed=!1,this._closeConnectBar());this._notDisplayed||
(this._notDisplayed=!0,this.fire("render"),this.fire("connectbar.onnotdisplay"),v.fire("connectbar.onnotdisplay",this),B.invokeHandler(this.getAttribute("on-not-display"),this))},_renderConnectBar:function(b){var d=u.createElement("div"),e=u.createElement("div");d.className="fb_connect_bar";e.className="fb_reset fb_connect_bar_container";e.appendChild(d);u.body.appendChild(e);this._container=e;this._initialHeight=Math.round(parseFloat(h.getStyle(e,"height"))+parseFloat(h.getStyle(e,"borderBottomWidth")));
h.html(d,w('<div class="fb_buttons"><a href="#" class="fb_bar_close"><img src="{1}" alt="{2}" title="{2}"/></a></div><a href="{7}" class="fb_profile" target="_blank"><img src="{3}" alt="{4}" title="{4}"/></a>{5} <span><a href="{8}" class="fb_learn_more" target="_blank">{6}</a> &ndash; <a href="#" class="fb_no_thanks">{0}</a></span>',F.tx._("No Thanks"),n.resolve("fbcdn")+"/"+l.imgs.buttonUrl,F.tx._("Close"),b[this._picFieldName]||n.resolve("fbcdn")+"/"+l.imgs.missingProfileUrl,t(b.first_name),F.tx._("Hi {firstName}. <strong>{siteName}</strong> is using Facebook to personalize your experience.",
{firstName:t(b.first_name),siteName:t(b.site_name)}),F.tx._("Learn More"),b.profile_url,n.resolve("www")+"/sitetour/connect.php"));f(a(d.getElementsByTagName("a")),"forEach",!0,function(a){a.onclick=f(this._clickHandler,"bind",!0,this)},this);this._page=u.body;b=0;b=this._page.parentNode?Math.round((parseFloat(h.getStyle(this._page.parentNode,"height"))-parseFloat(h.getStyle(this._page,"height")))/2):parseInt(h.getStyle(this._page,"marginTop"),10);this._initTopMargin=b=isNaN(b)?0:b;s.XMLHttpRequest?
(e.style.top=-1*this._initialHeight+"px",c.ate(e,{top:"0px"},this._animationSpeed)):e.className+=" fb_connect_bar_container_ie6";e={marginTop:this._initTopMargin+this._initialHeight+"px"};x.ie()?e.backgroundPositionY=this._initialHeight+"px":e.backgroundPosition="? "+this._initialHeight+"px";c.ate(this._page,e,this._animationSpeed)},_clickHandler:function(a){a=a||s.event;for(a=a.target||a.srcElement;"A"!=a.nodeName;)a=a.parentNode;switch(a.className){case "fb_bar_close":b({method:"Connect.connectBarMarkAcknowledged"});
D.impression({lid:104,name:"widget_user_closed"});this._closeConnectBar();break;case "fb_learn_more":case "fb_profile":s.open(a.href);break;case "fb_no_thanks":this._closeConnectBar(),b({method:"Connect.connectBarMarkAcknowledged"}),D.impression({lid:104,name:"widget_user_no_thanks"}),b({method:"auth.revokeAuthorization",block:!0},f(function(){this.fire("connectbar.ondeauth");v.fire("connectbar.ondeauth",this);B.invokeHandler(this.getAttribute("on-deauth"),this);this._getBoolAttribute("auto-refresh",
!0)&&s.location.reload()},"bind",!0,this))}return!1},_closeConnectBar:function(){this._notDisplayed=!0;var a={marginTop:this._initTopMargin+"px"};x.ie()?a.backgroundPositionY="0px":a.backgroundPosition="? 0px";var b=0==this._animationSpeed?0:300;c.ate(this._page,a,b);c.ate(this._container,{top:-1*this._initialHeight+"px"},b,function(a){a.parentNode.removeChild(a)});this.fire("connectbar.onclose");v.fire("connectbar.onclose",this);B.invokeHandler(this.getAttribute("on-close"),this)}});k.exports=g},
null);g("sdk.XFBML.LoginButton",["sdk.Helper","IframePlugin"],function(f,g,p,q,k,r,c,b){f=b.extend({constructor:function(d,a,f,e){this.parent(d,a,f,e);var g=b.getVal(e,"on_login");g&&this.subscribe("login.status",function(a){c.invokeHandler(g,null,[a])})},getParams:function(){return{scope:"string",perms:"string",size:"string",login_text:"text",show_faces:"bool",max_rows:"string",show_login_face:"bool",registration_url:"url_maybe",auto_logout_link:"bool",one_click:"bool",show_banner:"bool",auth_type:"string",
default_audience:"string"}}});k.exports=f},null);g("sdk.XFBML.Name","ApiClient escapeHTML sdk.Event sdk.XFBML.Element sdk.Helper Log sdk.Runtime".split(" "),function(g,s,p,q,k,r,c,b,d,a,l,e,h){g=a.extend({process:function(){f("Object","assign",!1,this,{_uid:this.getAttribute("uid"),_firstnameonly:this._getBoolAttribute("first-name-only"),_lastnameonly:this._getBoolAttribute("last-name-only"),_possessive:this._getBoolAttribute("possessive"),_reflexive:this._getBoolAttribute("reflexive"),_objective:this._getBoolAttribute("objective"),
_linked:this._getBoolAttribute("linked",!0),_subjectId:this.getAttribute("subject-id")});if(this._uid){var a=[];this._firstnameonly?a.push("first_name"):this._lastnameonly?a.push("last_name"):a.push("name");this._subjectId&&(a.push("gender"),this._subjectId==h.getUserID()&&(this._reflexive=!0));d.monitor("auth.statusChange",f(function(){if(!this.isValid())return this.fire("render"),!0;this._uid&&"loggedinuser"!=this._uid||(this._uid=h.getUserID());this._uid&&c.scheduleBatchCall("/"+this._uid,{fields:a.join(",")},
f(function(a){this._subjectId==this._uid?this._renderPronoun(a):this._renderOther(a);this.fire("render")},"bind",!0,this))},"bind",!0,this))}else e.error('"uid" is a required attribute for <fb:name>'),this.fire("render")},_renderPronoun:function(a){var b="",b=this._objective;this._subjectId&&(b=!0,this._subjectId===this._uid&&(this._reflexive=!0));if(this._uid==h.getUserID()&&this._getBoolAttribute("use-you",!0))b=this._possessive?this._reflexive?"your own":"your":this._reflexive?"yourself":"you";
else switch(a.gender){case "male":b=this._possessive?this._reflexive?"his own":"his":this._reflexive?"himself":b?"him":"he";break;case "female":b=this._possessive?this._reflexive?"her own":"her":this._reflexive?"herself":b?"her":"she";break;default:b=this._getBoolAttribute("use-they",!0)?this._possessive?this._reflexive?"their own":"their":this._reflexive?"themselves":b?"them":"they":this._possessive?this._reflexive?"his/her own":"his/her":this._reflexive?"himself/herself":b?"him/her":"he/she"}this._getBoolAttribute("capitalize",
!1)&&(b=l.upperCaseFirstChar(b));this.dom.innerHTML=b},_renderOther:function(a){var c="",d="";this._uid==h.getUserID()&&this._getBoolAttribute("use-you",!0)?c=this._reflexive?this._possessive?"your own":"yourself":this._possessive?"your":"you":a&&(null===a.first_name&&(a.first_name=""),null===a.last_name&&(a.last_name=""),this._firstnameonly&&void 0!==a.first_name?c=b(a.first_name):this._lastnameonly&&void 0!==a.last_name&&(c=b(a.last_name)),c||(c=b(a.name)),""!==c&&this._possessive&&(c+="'s"));c||
(c=b(this.getAttribute("if-cant-see","Facebook User")));c&&(this._getBoolAttribute("capitalize",!1)&&(c=l.upperCaseFirstChar(c)),d=a&&this._linked?l.getProfileLink(a,c,this.getAttribute("href",null)):c);this.dom.innerHTML=d}});k.exports=g},null);g("sdk.XFBML.RecommendationsBar","sdk.Arbiter DOMEventListener sdk.Event sdk.XFBML.IframeWidget resolveURI sdk.Runtime".split(" "),function(g,A,p,q,k,r,c,b,d,a,l,e){g=a.extend({getUrlBits:function(){return{name:"recommendations_bar",params:this._attr}},setupAndValidate:function(){function a(b,
c){function d(){c();g=null;e=f("Date","now",!1)}var e=0,g=null;return function(){if(!g){var a=f("Date","now",!1);a-e<b?g=I(d,b-(a-e)):d()}return!0}}this._attr={channel:this.getChannelUrl(),api_key:e.getClientID(),font:this.getAttribute("font"),colorscheme:this.getAttribute("colorscheme"),href:l(this.getAttribute("href")),side:function(a){return"left"==a||"right"==a?a:e.getRtl()?"left":"right"}(this.getAttribute("side")),site:this.getAttribute("site"),action:this.getAttribute("action"),ref:this.getAttribute("ref"),
max_age:this.getAttribute("max_age"),trigger:function(a){a.match(/^\d+(?:\.\d+)?%$/)?a=Math.min(Math.max(parseInt(a,10),0),100)/100:"manual"!=a&&"onvisible"!=a&&(a="onvisible");return a}(this.getAttribute("trigger","")),read_time:function(a){return Math.max(parseInt(a,10)||30,10)}(this.getAttribute("read_time")),num_recommendations:parseInt(this.getAttribute("num_recommendations"),10)||2};this._showLoader=!1;this.subscribe("iframe.onload",f(function(){this.dom.children[0].className="fbpluginrecommendationsbar"+
this._attr.side},"bind",!0,this));var g=f(function(){b.remove(s,"scroll",g);b.remove(u.documentElement,"click",g);b.remove(u.documentElement,"mousemove",g);I(f(this.arbiterInform,"bind",!0,this,"platform/plugins/recommendations_bar/action",null,c.BEHAVIOR_STATE),1E3*this._attr.read_time);return!0},"bind",!0,this);b.add(s,"scroll",g);b.add(u.documentElement,"click",g);b.add(u.documentElement,"mousemove",g);if("manual"==this._attr.trigger){var k=f(function(a){a==this._attr.href&&(d.unsubscribe("xfbml.recommendationsbar.read",
k),this.arbiterInform("platform/plugins/recommendations_bar/trigger",null,c.BEHAVIOR_STATE));return!0},"bind",!0,this);d.subscribe("xfbml.recommendationsbar.read",k)}else{var p=a(500,f(function(){this.calculateVisibility()&&(b.remove(s,"scroll",p),b.remove(s,"resize",p),this.arbiterInform("platform/plugins/recommendations_bar/trigger",null,c.BEHAVIOR_STATE));return!0},"bind",!0,this));b.add(s,"scroll",p);b.add(s,"resize",p);p()}this.visible=!1;var q=a(500,f(function(){!this.visible&&this.calculateVisibility()?
(this.visible=!0,this.arbiterInform("platform/plugins/recommendations_bar/visible")):this.visible&&!this.calculateVisibility()&&(this.visible=!1,this.arbiterInform("platform/plugins/recommendations_bar/invisible"));return!0},"bind",!0,this));b.add(s,"scroll",q);b.add(s,"resize",q);q();this.focused=!0;q=f(function(){this.focused=!this.focused;return!0},"bind",!0,this);b.add(s,"blur",q);b.add(s,"focus",q);this.animate=this.resize_running=!1;this.subscribe("xd.signal_animation",f(function(){this.animate=
!0},"bind",!0,this));return!0},getSize:function(){return{height:25,width:"recommend"==this._attr.action?140:96}},calculateVisibility:function(){var a=u.documentElement.clientHeight;if(!this.focused&&s.console&&s.console.firebug)return this.visible;switch(this._attr.trigger){case "manual":return!1;case "onvisible":return this.dom.getBoundingClientRect().top<=a;default:return((s.pageYOffset||u.body.scrollTop)+a)/u.documentElement.scrollHeight>=this._attr.trigger}}});k.exports=g},null);g("sdk.XFBML.Registration",
["sdk.Auth","sdk.Helper","sdk.XFBML.IframeWidget","sdk.Runtime","UrlMap"],function(g,u,p,q,k,r,c,b,d,a,l){g=d.extend({_visibleAfter:"immediate",_baseHeight:167,_fieldHeight:28,_skinnyWidth:520,_skinnyBaseHeight:173,_skinnyFieldHeight:52,setupAndValidate:function(){this._attr={action:this.getAttribute("action"),border_color:this.getAttribute("border-color"),channel_url:this.getChannelUrl(),client_id:a.getClientID(),fb_only:this._getBoolAttribute("fb-only",!1),fb_register:this._getBoolAttribute("fb-register",
!1),fields:this.getAttribute("fields"),height:this._getPxAttribute("height"),redirect_uri:this.getAttribute("redirect-uri",s.location.href),no_footer:this._getBoolAttribute("no-footer"),no_header:this._getBoolAttribute("no-header"),onvalidate:this.getAttribute("onvalidate"),width:this._getPxAttribute("width",600),target:this.getAttribute("target")};this._attr.onvalidate&&this.subscribe("xd.validate",f(function(a){var c=f("JSON","parse",!1,a.value),d=f(function(b){this.arbiterInform("Registration.Validation",
{errors:b,id:a.id})},"bind",!0,this);(c=b.executeFunctionByName(this._attr.onvalidate,c,d))&&d(c)},"bind",!0,this));this.subscribe("xd.authLogin",f(this._onAuthLogin,"bind",!0,this));this.subscribe("xd.authLogout",f(this._onAuthLogout,"bind",!0,this));return!0},getSize:function(){return{width:this._attr.width,height:this._getHeight()}},_getHeight:function(){if(this._attr.height)return this._attr.height;var a;if(this._attr.fields)try{a=f("JSON","parse",!1,this._attr.fields)}catch(b){a=this._attr.fields.split(/,/)}else a=
["name"];return this._attr.width<this._skinnyWidth?this._skinnyBaseHeight+a.length*this._skinnyFieldHeight:this._baseHeight+a.length*this._fieldHeight},getUrlBits:function(){return{name:"registration",params:this._attr}},getDefaultWebDomain:function(){return l.resolve("www",!0)},_onAuthLogin:function(){c.getAuthResponse()||c.getLoginStatus();b.fireEvent("auth.login",this)},_onAuthLogout:function(){c.getAuthResponse()||c.getLoginStatus();b.fireEvent("auth.logout",this)}});k.exports=g},null);g("legacy:fb.xfbml",
"Assert sdk.domReady sdk.Event FB IframePlugin PluginTags wrapFunction XFBML sdk.XFBML.Comments sdk.XFBML.CommentsCount sdk.XFBML.ConnectBar sdk.XFBML.LoginButton sdk.XFBML.Name sdk.XFBML.RecommendationsBar sdk.XFBML.Registration".split(" "),function(g,s,p,q,k,r,c,b,d,a,l,e,h,m){var t={comments:s("sdk.XFBML.Comments"),comments_count:s("sdk.XFBML.CommentsCount"),connect_bar:s("sdk.XFBML.ConnectBar"),login_button:s("sdk.XFBML.LoginButton"),name:s("sdk.XFBML.Name"),recommendations_bar:s("sdk.XFBML.RecommendationsBar"),
registration:s("sdk.XFBML.Registration")};f(f("Object","keys",!1,e),"forEach",!0,function(a){m.registerTag({xmlns:"fb",localName:a.replace(/_/g,"-"),ctor:l.withParams(e[a])})});f(f("Object","keys",!1,t),"forEach",!0,function(a){m.registerTag({xmlns:"fb",localName:a.replace(/_/g,"-"),ctor:t[a]})});a.provide("XFBML",{parse:function(a){c.maybeXfbml(a,"Invalid argument");a&&9===a.nodeType&&(a=a.body);return m.parse.apply(null,arguments)}});m.subscribe("parse",f(d.fire,"bind",!0,d,"xfbml.parse"));m.subscribe("render",
f(d.fire,"bind",!0,d,"xfbml.render"));d.subscribe("init:post",function(a){a.xfbml&&I(h(f(b,"bind",!0,null,m.parse),"entry","init:post:xfbml.parse"),0)});c.define("Xfbml",function(a){return(1===a.nodeType||9===a.nodeType)&&"string"===typeof a.nodeName});try{u.namespaces&&!u.namespaces.item.fb&&u.namespaces.add("fb")}catch(v){}},3);g("legacy:fb.xfbml-legacy",["FB","sdk.Event"],function(f,g,p,q,k,r,c,b){c.provide("XFBML.RecommendationsBar",{markRead:function(c){b.fire("xfbml.recommendationsbar.read",
c||s.location.href)}})},3)}.call({},window.inDapIF?parent.window:window)}catch(e$$144){(new Image).src="http://www.facebook.com/common/scribe_endpoint.php?c=jssdk_error&m="+encodeURIComponent('{"error":"LOAD", "extra": {"name":"'+e$$144.name+'","line":"'+(e$$144.lineNumber||e$$144.line)+'","script":"'+(e$$144.fileName||e$$144.sourceURL||e$$144.script)+'","stack":"'+(e$$144.stackTrace||e$$144.stack)+'","revision":"1360648","message":"'+e$$144.message+'"}}')};FB.init({appId:"759326554108395",status:!0,cookie:!0,xfbml:!0});function invitefriends(){FB.ui({method:"apprequests",message:"Compare Facebook Usage With Your Friends"})}function publicresults(){msg="Compare your results with me.";FB.ui({method:"feed",name:"Compare Facebook Usage With Your Friends",link:"https://apps.facebook.com/759326554108395/",caption:"Can you beat it ? ",description:msg})};
